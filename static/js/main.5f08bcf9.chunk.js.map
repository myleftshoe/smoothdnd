{"version":3,"sources":["react-smooth-dnd/src/smooth-dnd/src/constants.js","react-smooth-dnd/src/smooth-dnd/src/utils.js","react-smooth-dnd/src/smooth-dnd/src/styles.js","react-smooth-dnd/src/smooth-dnd/src/dropHandlers.js","react-smooth-dnd/src/smooth-dnd/src/mediator.js","react-smooth-dnd/src/smooth-dnd/src/container.js","react-smooth-dnd/src/smooth-dnd/src/dragscroller.js","react-smooth-dnd/src/smooth-dnd/src/layoutManager.js","logo.svg","react-smooth-dnd/src/smooth-dnd/src/polyfills.js","react-smooth-dnd/src/smooth-dnd/index.js","react-smooth-dnd/src/Draggable.js","react-smooth-dnd/src/Container.js","utils.js","SortableList.js","App.js","serviceWorker.js","index.js"],"names":["__webpack_require__","r","__webpack_exports__","d","containerInstance","containersInDraggable","defaultGroupName","wrapperClass","defaultGrabHandleClass","animationClass","translationValue","visibilityValue","ghostClass","containerClass","extraSizeForInsertion","stretcherElementClass","stretcherElementInstance","isDraggableDetached","disbaleTouchActions","noUserSelectClass","getIntersectionOnAxis","rect1","rect2","axis","left","Math","max","top","right","min","bottom","getContainerRect","element","_rect","getBoundingClientRect","rect","hasBiggerChild","isScrollingOrHidden","width","scrollWidth","height","scrollHeight","getScrollingAxis","style","global","getComputedStyle","overflow","overFlowX","xScroll","overFlowY","yScroll","concat","isScrolling","overFlowAxis","clientWidth","clientHeight","getVisibleRect","elementRect","currentElement","parentElement","listenScrollParent","clb","scrollers","setTimeout","addEventListener","push","dispose","forEach","p","removeEventListener","getParent","selector","current","matches","hasClass","cls","className","split","map","indexOf","addClass","classes","filter","unshift","join","removeClass","removeChildAt","parent","index","removeChild","children","addChildAt","child","lenght","appendChild","insertBefore","isMobile","window","navigator","userAgent","match","clearSelection","getSelection","empty","removeAllRanges","document","selection","getElementCursor","cursor","verticalWrapperClass","display","horizontalWrapperClass","vertical-align","white-space","css","_css","Object","C_Users_Paul_Documents_react_smoothdnd_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","constants","position","box-sizing","transition","touch-actions","-ms-touch-actions","-webkit-touch-callout","-webkit-user-select","-khtml-user-select","-moz-user-select","-ms-user-select","user-select","convertToCssString","keys","reduce","styleString","propName","propValue","addStyleToHead","head","getElementsByTagName","createElement","cssString","type","styleSheet","cssText","createTextNode","addCursorStyleToBody","body *","removeStyle","styleElement","domDropHandler","reactDropHandler","_utils__WEBPACK_IMPORTED_MODULE_0__","_constants__WEBPACK_IMPORTED_MODULE_1__","_ref","draggables","layout","options","dropResult","onDrop","removedIndex","addedIndex","droppedElement","removedWrapper","splice","wrapper","firstElementChild","length","handler","_ref2","_utils__WEBPACK_IMPORTED_MODULE_1__","_constants__WEBPACK_IMPORTED_MODULE_2__","_styles__WEBPACK_IMPORTED_MODULE_3__","_dragscroller__WEBPACK_IMPORTED_MODULE_4__","grabEvents","moveEvents","releaseEvents","dragListeningContainers","grabbedElement","ghostInfo","draggableInfo","containers","isDragging","handleDrag","handleScroll","sourceContainerLockAxis","cursorStyleElement","Utils","listenEvents","e","onMouseDown","passive","getGhostParent","body","handleDragStartConditions","startEvent","delay","timer","moveThreshold","maxMoveInDelay","onMove","event","_getPointerEvent","getPointerEvent","currentX","clientX","currentY","clientY","abs","deregisterEvent","callCallback","onUp","onHTMLDrag","clearTimeout","_startEvent","_delay","_clb","undefined","button","target","containerElement","container","dragHandleSelector","getOptions","nonDragAreaSelector","startDrag","dragBeginDelay","initiateDrag","onMouseMove","cancelable","onMouseUp","reset","callback","endDrop","ghost","transitionDuration","animateGhostToPosition","duration","dropClass","targetElement","shouldAnimateDrop","payload","getDragResult","shadowBeginEnd","animationDuration","behaviour","_container$getDragRes","elementSize","getTranslateCalculator","dragResult","prevDraggableEnd","getBeginEnd","end","getBeginEndOfContainer","begin","getTopLeftOfElementBegin","opacity","transform","handleDropAnimation","fireOnDragStartEnd","handleDrop","touches","isStart","fn","onDragStart","onDragEnd","isSource","isDragRelevant","willAcceptDrop","setDraggables","lockAxis","toLowerCase","draggableElement","draggableIndex","elementIndex","getChildPayload","x","y","groupName","getDraggableInfo","wrapperElement","_container$getScale","getScale","_wrapperElement$getBo","scaleX","scaleY","midX","midY","cloneNode","zIndex","boxSizing","removeProperty","pointerEvents","dragClass","dragCursor","orientation","centerDelta","positionDelta","getGhostElement","mousePosition","targetContainers","containerBoxChanged","invalidateRects","onTranslated","dragHandler","autoScrollEnabled","dragScroller","getScrollHandler","prepareDrag","preventDefault","Mediator","register","unregister","_mediator__WEBPACK_IMPORTED_MODULE_0__","_layoutManager__WEBPACK_IMPORTED_MODULE_1__","_utils__WEBPACK_IMPORTED_MODULE_2__","_dropHandlers__WEBPACK_IMPORTED_MODULE_3__","_constants__WEBPACK_IMPORTED_MODULE_4__","defaultOptions","shouldAcceptDrop","setAnimation","add","getContainer","wrapChild","SmoothDnD","div","wrapChildren","Array","prototype","call","nodeType","Node","ELEMENT_NODE","findDraggebleAtPos","pos","withRespectToMiddlePoints","arguments","find","startIndex","endIndex","_layout$getBeginEnd","middleIndex","floor","_layout$getBeginEnd2","_ref4","draggablesReset","_ref3","setTranslation","setVisibility","parentNode","resetDraggables","dropHandler","_ref5","dropHandlerParams","getContainerProps","initialOptions","props","assign","initOptions","layoutManager","registerToParentContainer","relevantContainers","parentInfo","containerOfParentElement","draggable","getRelaventParentContainer","getChildContainers","setParentContainer","getRemovedItem","_ref6","prevRemovedIndex","_ref7","setRemovedItemVisibilty","_ref8","_ref9","getPosition","_ref10","_ref11","isPosInChildContainer","notifyParentOnPositionCapture","_ref12","isCaptured","_ref13","getParentContainer","onChildPositionCaptured","getElementSize","_ref14","_ref15","getSize","handleTargetContainer","_ref16","_ref17","set","setTargetContainer","getDragInsertionIndexForDropZone","_ref20","_ref21","getShadowBeginEndForDropZone","_ref22","prevAddedIndex","_ref23","_layout$getBeginEndOf","invalidateShadowBeginEndIfNeeded","params","shadowBoundsGetter","getShadowBeginEnd","_ref24","invalidateShadow","getNextAddedIndex","getIndexForPos","_ref18","findDraggable","_ref19","_ref19$dragResult","beginAdjustment","getDragInsertionIndex","_ref25","resetShadowAdjustment","lastAddedIndex","_ref26","_ref26$dragResult","handleInsertionSizeChange","_ref27","strectherElement","_ref28","_ref28$dragResult","containerBeginEnd","containerEnd","getScrollSize","getScrollValue","lastDraggableEnd","stretcherSize","setSize","toRemove","calculateTranslations","_ref29","_ref30","_ref30$dragResult","translate","_ref31","_ref32","beforeIndex","afterBounds","beforeBounds","beforeSize","threshold","afterIndex","afterSize","getContainerRectangles","handleFirstInsertShadowAdjustment","_ref33","_ref33$dragResult","fireDragEnterLeaveEvents","_ref34","wasDragIn","_ref35","isDragIn","onDragLeave","dragLeft","onDragEnter","fireOnDropReady","_ref36","_ref37","_ref37$dragResult","_ref37$draggableInfo","onDropReady","adjustedAddedIndex","getDragHandler","compose","_len","functions","_key","hydratedFunctions","result","Container","lastDraggableInfo","parentContainer","posIsInChildContainer","childContainers","processLastDraggableInfo","newDraggables","i","pop","setScrollListener","sourceContainer","sourceOptions","getContainerScale","apply","containerIniter","createAnimator","isAnimating","request","startTime","direction","speed","animate","_direction","_speed","start","requestAnimationFrame","timestamp","timeDiff","distanceDiff","value","scrollLeft","scrollTop","scrollBy","addScrollValue","stop","cancelAnimationFrame","scrollableInfo","descendants","invalidate","getScrollableAnimator","scrollablesInfo","containerElements","scrollables","firstDescendentScrollable","el","scrollingAxis","some","info","getScrollableElements","animators","C_Users_Paul_Documents_react_smoothdnd_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","getWindowRect","innerWidth","innerHeight","getWindowAnimators","animator","scrollParams","_scrollableInfo$rect","speedFactor","getAutoScrollInfo","horizontalMap","size","distanceToParent","dragPosition","scrollSize","offsetSize","scrollValue","scale","setters","val","verticalMap","_animationDuration","propMapper","get","obj","prop","orientationDependentProps","values","translation","registeredScrollListener","invalidateContainerRectangles","visibleRect","scrollListener","offsetWidth","offsetHeight","invalidateContainerScale","getAxisValue","isInVisibleRect","_values$visibleRect","containerRect","getBeginEndOfDOMRect","getBeginEndOfContainerVisibleRect","getDistanceToOffsetParent","updateDescendantContainerRects","getTranslation","isVisible","visibility","setScrollValue","module","exports","constructor","Element","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","s","this","ownerDocument","querySelectorAll","item","defineProperty","node","nodes","childNodes","fun","TypeError","t","len","thisArg","Draggable","render","React","cloneElement","clsName","react_default","a","Component","dropHandlers","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","getContainerOptions","bind","assertThisInitialized","setRef","prevContainer","containerDiv","ReactDOM","findDOMNode","ref","_this2","functionProps","_this2$props","_this2$props2","_this2$props3","_this2$props4","_this2$props5","_this2$props6","_this2$props7","_this2$props8","_this2$props9","_this2$props10","defaultProps","generateItems","count","creator","stopEvent","stopPropagation","SortableList","preventScroll","console","log","setState","allowScroll","setContainerRef","containerRef","touchStart","componentDidMount","state","items","id","data","onScroll","onTouchStart","src_Container","arr","toConsumableArray","itemToAdd","applyDrag","src_Draggable","key","App","SortableList_SortableList","Boolean","location","hostname","src_App_0","getElementById","serviceWorker","ready","then","registration"],"mappings":"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","file":"static/js/main.5f08bcf9.chunk.js","sourcesContent":["export const containerInstance = 'smooth-dnd-container-instance';\r\nexport const containersInDraggable = 'smooth-dnd-containers-in-draggable';\r\n\r\nexport const defaultGroupName = '@@smooth-dnd-default-group@@';\r\nexport const wrapperClass = 'smooth-dnd-draggable-wrapper';\r\nexport const defaultGrabHandleClass = 'smooth-dnd-default-grap-handle';\r\nexport const animationClass = 'animated';\r\nexport const translationValue = '__smooth_dnd_draggable_translation_value';\r\nexport const visibilityValue = '__smooth_dnd_draggable_visibility_value';\r\nexport const ghostClass = 'smooth-dnd-ghost';\r\n\r\nexport const containerClass = 'smooth-dnd-container';\r\n\r\nexport const extraSizeForInsertion = 'smooth-dnd-extra-size-for-insertion';\r\nexport const stretcherElementClass = 'smooth-dnd-stretcher-element';\r\nexport const stretcherElementInstance = 'smooth-dnd-stretcher-instance';\r\n\r\nexport const isDraggableDetached = 'smoth-dnd-is-draggable-detached';\r\n\r\nexport const disbaleTouchActions = 'smooth-dnd-disable-touch-action';\r\nexport const noUserSelectClass = 'smooth-dnd-no-user-select';\r\n","export const getIntersection = (rect1, rect2) => {\r\n  return {\r\n    left: Math.max(rect1.left, rect2.left),\r\n    top: Math.max(rect1.top, rect2.top),\r\n    right: Math.min(rect1.right, rect2.right),\r\n    bottom: Math.min(rect1.bottom, rect2.bottom)\r\n  };\r\n};\r\n\r\nexport const getIntersectionOnAxis = (rect1, rect2, axis) => {\r\n  if (axis === \"x\") {\r\n    return {\r\n      left: Math.max(rect1.left, rect2.left),\r\n      top: rect1.top,\r\n      right: Math.min(rect1.right, rect2.right),\r\n      bottom: rect1.bottom\r\n    };\r\n  } else {\r\n    return {\r\n      left: rect1.left,\r\n      top: Math.max(rect1.top, rect2.top),\r\n      right: rect1.right,\r\n      bottom: Math.min(rect1.bottom, rect2.bottom)\r\n    };\r\n  }\r\n};\r\n\r\nexport const getContainerRect = element => {\r\n  const _rect = element.getBoundingClientRect();\r\n  const rect = {\r\n    left: _rect.left,\r\n    right: _rect.right + 10,\r\n    top: _rect.top,\r\n    bottom: _rect.bottom\r\n  };\r\n\r\n  if (hasBiggerChild(element, \"x\") && !isScrollingOrHidden(element, \"x\")) {\r\n    const width = rect.right - rect.left;\r\n    rect.right = rect.right + element.scrollWidth - width;\r\n  }\r\n\r\n  if (hasBiggerChild(element, \"y\") && !isScrollingOrHidden(element, \"y\")) {\r\n    const height = rect.bottom - rect.top;\r\n    rect.bottom = rect.bottom + element.scrollHeight - height;\r\n  }\r\n\r\n  return rect;\r\n};\r\n\r\nexport const getScrollingAxis = element => {\r\n  const style = global.getComputedStyle(element);\r\n  const overflow = style[\"overflow\"];\r\n  const general = overflow === \"auto\" || overflow === \"scroll\";\r\n  if (general) return \"xy\";\r\n  const overFlowX = style[`overflow-x`];\r\n  const xScroll = overFlowX === \"auto\" || overFlowX === \"scroll\";\r\n  const overFlowY = style[`overflow-y`];\r\n  const yScroll = overFlowY === \"auto\" || overFlowY === \"scroll\";\r\n\r\n  return `${xScroll ? \"x\" : \"\"}${yScroll ? \"y\" : \"\"}` || null;\r\n};\r\n\r\nexport const isScrolling = (element, axis) => {\r\n  const style = global.getComputedStyle(element);\r\n  const overflow = style[\"overflow\"];\r\n  const overFlowAxis = style[`overflow-${axis}`];\r\n  const general = overflow === \"auto\" || overflow === \"scroll\";\r\n  const dimensionScroll = overFlowAxis === \"auto\" || overFlowAxis === \"scroll\";\r\n  return general || dimensionScroll;\r\n};\r\n\r\nexport const isScrollingOrHidden = (element, axis) => {\r\n  const style = global.getComputedStyle(element);\r\n  const overflow = style[\"overflow\"];\r\n  const overFlowAxis = style[`overflow-${axis}`];\r\n  const general =\r\n    overflow === \"auto\" || overflow === \"scroll\" || overflow === \"hidden\";\r\n  const dimensionScroll =\r\n    overFlowAxis === \"auto\" ||\r\n    overFlowAxis === \"scroll\" ||\r\n    overFlowAxis === \"hidden\";\r\n  return general || dimensionScroll;\r\n};\r\n\r\nexport const hasBiggerChild = (element, axis) => {\r\n  if (axis === \"x\") {\r\n    return element.scrollWidth > element.clientWidth;\r\n  } else {\r\n    return element.scrollHeight > element.clientHeight;\r\n  }\r\n};\r\n\r\nexport const hasScrollBar = (element, axis) => {\r\n  return hasBiggerChild(element, axis) && isScrolling(element, axis);\r\n};\r\n\r\nexport const getVisibleRect = (element, elementRect) => {\r\n  let currentElement = element;\r\n  let rect = elementRect || getContainerRect(element);\r\n  currentElement = element.parentElement;\r\n  while (currentElement) {\r\n    if (\r\n      hasBiggerChild(currentElement, \"x\") &&\r\n      isScrollingOrHidden(currentElement, \"x\")\r\n    ) {\r\n      rect = getIntersectionOnAxis(\r\n        rect,\r\n        currentElement.getBoundingClientRect(),\r\n        \"x\"\r\n      );\r\n    }\r\n\r\n    if (\r\n      hasBiggerChild(currentElement, \"y\") &&\r\n      isScrollingOrHidden(currentElement, \"y\")\r\n    ) {\r\n      rect = getIntersectionOnAxis(\r\n        rect,\r\n        currentElement.getBoundingClientRect(),\r\n        \"y\"\r\n      );\r\n    }\r\n\r\n    currentElement = currentElement.parentElement;\r\n  }\r\n\r\n  return rect;\r\n};\r\n\r\nexport const listenScrollParent = (element, clb) => {\r\n  let scrollers = [];\r\n  const dispose = () => {\r\n    scrollers.forEach(p => {\r\n      p.removeEventListener(\"scroll\", clb);\r\n    });\r\n    global.removeEventListener(\"scroll\", clb);\r\n  };\r\n\r\n  setTimeout(function() {\r\n    let currentElement = element;\r\n    while (currentElement) {\r\n      if (\r\n        isScrolling(currentElement, \"x\") ||\r\n        isScrolling(currentElement, \"y\")\r\n      ) {\r\n        currentElement.addEventListener(\"scroll\", clb);\r\n        scrollers.push(currentElement);\r\n      }\r\n      currentElement = currentElement.parentElement;\r\n    }\r\n\r\n    global.addEventListener(\"scroll\", clb);\r\n  }, 10);\r\n\r\n  return {\r\n    dispose\r\n  };\r\n};\r\n\r\nexport const hasParent = (element, parent) => {\r\n  let current = element;\r\n  while (current) {\r\n    if (current === parent) {\r\n      return true;\r\n    }\r\n    current = current.parentElement;\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const getParent = (element, selector) => {\r\n  let current = element;\r\n  while (current) {\r\n    if (current.matches(selector)) {\r\n      return current;\r\n    }\r\n    current = current.parentElement;\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport const hasClass = (element, cls) => {\r\n  return (\r\n    element.className\r\n      .split(\" \")\r\n      .map(p => p)\r\n      .indexOf(cls) > -1\r\n  );\r\n};\r\n\r\nexport const addClass = (element, cls) => {\r\n  if (element) {\r\n    const classes = element.className.split(\" \").filter(p => p);\r\n    if (classes.indexOf(cls) === -1) {\r\n      classes.unshift(cls);\r\n      element.className = classes.join(\" \");\r\n    }\r\n  }\r\n};\r\n\r\nexport const removeClass = (element, cls) => {\r\n  if (element) {\r\n    const classes = element.className.split(\" \").filter(p => p && p !== cls);\r\n    element.className = classes.join(\" \");\r\n  }\r\n};\r\n\r\nexport const debounce = (fn, delay, immediate) => {\r\n  let timer = null;\r\n  return (...params) => {\r\n    if (timer) {\r\n      clearTimeout(timer);\r\n    }\r\n    if (immediate && !timer) {\r\n      fn.call(this, ...params);\r\n    } else {\r\n      timer = setTimeout(() => {\r\n        timer = null;\r\n        fn.call(this, ...params);\r\n      }, delay);\r\n    }\r\n  };\r\n};\r\n\r\nexport const removeChildAt = (parent, index) => {\r\n  return parent.removeChild(parent.children[index]);\r\n};\r\n\r\nexport const addChildAt = (parent, child, index) => {\r\n  if (index >= parent.children.lenght) {\r\n    parent.appendChild(child);\r\n  } else {\r\n    parent.insertBefore(child, parent.children[index]);\r\n  }\r\n};\r\n\r\nexport const isMobile = () => {\r\n  if (typeof window !== 'undefined') {\r\n    if (\r\n      global.navigator.userAgent.match(/Android/i) ||\r\n      global.navigator.userAgent.match(/webOS/i) ||\r\n      global.navigator.userAgent.match(/iPhone/i) ||\r\n      global.navigator.userAgent.match(/iPad/i) ||\r\n      global.navigator.userAgent.match(/iPod/i) ||\r\n      global.navigator.userAgent.match(/BlackBerry/i) ||\r\n      global.navigator.userAgent.match(/Windows Phone/i)\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const clearSelection = () => {\r\n  if (global.getSelection) {\r\n    if (global.getSelection().empty) {\r\n      // Chrome\r\n      global.getSelection().empty();\r\n    } else if (global.getSelection().removeAllRanges) {\r\n      // Firefox\r\n      global.getSelection().removeAllRanges();\r\n    }\r\n  } else if (global.document.selection) {\r\n    // IE?\r\n    global.document.selection.empty();\r\n  }\r\n};\r\n\r\nexport const getElementCursor = (element) => {\r\n  if (element) {\r\n    const style = global.getComputedStyle(element);\r\n    if (style) {\r\n      return style.cursor;\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n","import * as constants from './constants';\r\n\r\nconst verticalWrapperClass = {\r\n\t'overflow': 'hidden',\r\n\t'display': 'block'\r\n}\r\n\r\nconst horizontalWrapperClass = {\r\n\t'height': '100%',\r\n\t'display': 'inline-block',\r\n\t'vertical-align': 'top',\r\n\t'white-space': 'normal'\r\n}\r\n\r\nconst stretcherElementHorizontalClass = {\r\n\t'display': 'inline-block'\r\n}\r\n\r\nconst css = {\r\n\t[`.${constants.containerClass}`]: {\r\n\t\t'position': 'relative',\r\n\t},\r\n\t[`.${constants.containerClass} *`]: {\r\n\t\t'box-sizing': 'border-box',\r\n\t},\r\n\t[`.${constants.containerClass}.horizontal`]: {\r\n\t\t'white-space': 'nowrap',\r\n\t},\r\n\t[`.${constants.containerClass}.horizontal > .${constants.stretcherElementClass}`]: stretcherElementHorizontalClass,\r\n\t[`.${constants.containerClass}.horizontal > .${constants.wrapperClass}`]: horizontalWrapperClass,\r\n\t[`.${constants.containerClass}.vertical > .${constants.wrapperClass}`]: verticalWrapperClass,\r\n\t[`.${constants.wrapperClass}`]: {\r\n\t\t// 'overflow': 'hidden'\r\n\t},\r\n\t[`.${constants.wrapperClass}.horizontal`]: horizontalWrapperClass, \r\n\t[`.${constants.wrapperClass}.vertical`]: verticalWrapperClass, \r\n\t[`.${constants.wrapperClass}.animated`]: {\r\n\t\t'transition': 'transform ease'\r\n\t},\r\n\t[`.${constants.ghostClass} *`]: {\r\n\t\t//'perspective': '800px',\r\n\t\t'box-sizing': 'border-box',\r\n\t},\r\n\t[`.${constants.ghostClass}.animated`]: {\r\n\t\t'transition': 'all ease-in-out'\r\n\t},\r\n\t[`.${constants.disbaleTouchActions} *`]: {\r\n\t\t'touch-actions': 'none',\r\n\t\t'-ms-touch-actions': 'none'\r\n\t},\r\n\t[`.${constants.noUserSelectClass} *`]: {\r\n\t\t'-webkit-touch-callout': 'none',\r\n\t\t'-webkit-user-select': 'none',\r\n\t\t'-khtml-user-select': 'none',\r\n\t\t'-moz-user-select': 'none',\r\n\t\t'-ms-user-select': 'none',\r\n\t\t'user-select': 'none'\r\n\t}\r\n};\r\n\r\nfunction convertToCssString(css) {\r\n\treturn Object.keys(css).reduce((styleString, propName) => {\r\n\t\tconst propValue = css[propName];\r\n\t\tif (typeof (propValue) === 'object') {\r\n\t\t\treturn `${styleString}${propName}{${convertToCssString(propValue)}}`;\r\n\t\t}\r\n\t\treturn `${styleString}${propName}:${propValue};`;\r\n\t}, '');\r\n}\r\n\r\nfunction addStyleToHead() {\r\n\tif (typeof (window) !== 'undefined') {\r\n\t\tconst head = global.document.head || global.document.getElementsByTagName(\"head\")[0];\r\n\t\tconst style = global.document.createElement(\"style\");\r\n\t\tconst cssString = convertToCssString(css);\r\n\t\tstyle.type = 'text/css';\r\n\t\tif (style.styleSheet) {\r\n\t\t\tstyle.styleSheet.cssText = cssString;\r\n\t\t} else {\r\n\t\t\tstyle.appendChild(global.document.createTextNode(cssString));\r\n\t\t}\r\n\r\n\t\thead.appendChild(style);\r\n\t}\r\n}\r\n\r\nfunction addCursorStyleToBody(cursor) {\r\n\tif (cursor && typeof (window) !== 'undefined') {\r\n\t\tconst head = global.document.head || global.document.getElementsByTagName(\"head\")[0];\r\n\t\tconst style = global.document.createElement(\"style\");\r\n\t\tconst cssString = convertToCssString({\r\n\t\t\t'body *': {\r\n\t\t\t\tcursor: `${cursor} !important`\r\n\t\t\t}\r\n\t\t});\r\n\t\tstyle.type = 'text/css';\r\n\t\tif (style.styleSheet) {\r\n\t\t\tstyle.styleSheet.cssText = cssString;\r\n\t\t} else {\r\n\t\t\tstyle.appendChild(global.document.createTextNode(cssString));\r\n\t\t}\r\n\r\n\t\thead.appendChild(style);\r\n\r\n\t\treturn style;\r\n\t}\r\n\r\n\treturn null;\r\n}\r\n\r\nfunction removeStyle(styleElement) {\r\n\tif (styleElement && typeof (window) !== 'undefined') {\r\n\t\tconst head = global.document.head || global.document.getElementsByTagName(\"head\")[0];\r\n\t\thead.removeChild(styleElement);\r\n\t}\r\n}\r\n\r\nexport {\r\n\taddStyleToHead,\r\n\taddCursorStyleToBody,\r\n\tremoveStyle\r\n};","import { addChildAt, removeChildAt } from './utils';\r\nimport {\r\n\twrapperClass,\r\n\tanimationClass,\r\n\tcontainersInDraggable\r\n} from './constants';\r\n\r\n\r\nexport function domDropHandler({ element, draggables, layout, options }) {\r\n\treturn (dropResult, onDrop) => {\r\n\t\tconst { removedIndex, addedIndex, droppedElement } = dropResult;\r\n\t\tlet removedWrapper = null;\r\n\t\tif (removedIndex !== null) {\r\n\t\t\tremovedWrapper = removeChildAt(element, removedIndex);\r\n\t\t\tdraggables.splice(removedIndex, 1);\r\n\t\t}\r\n\r\n\t\tif (addedIndex !== null) {\r\n\t\t\tconst wrapper = global.document.createElement('div');\r\n\t\t\twrapper.className = `${wrapperClass}`;\r\n\t\t\twrapper.appendChild(removedWrapper.firstElementChild || droppedElement);\r\n\t\t\twrapper[containersInDraggable] = [];\r\n\t\t\taddChildAt(element, wrapper, addedIndex);\r\n\t\t\tif (addedIndex >= draggables.length) {\r\n\t\t\t\tdraggables.push(wrapper);\r\n\t\t\t} else {\r\n\t\t\t\tdraggables.splice(addedIndex, 0, wrapper);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (onDrop) {\r\n\t\t\tonDrop(dropResult);\r\n\t\t}\r\n\t};\r\n}\r\n\r\nexport function reactDropHandler() {\r\n\tconst handler = ({ element, draggables, layout, options }) => {\r\n\t\treturn (dropResult, onDrop) => {\r\n\t\t\tif (onDrop) {\r\n\t\t\t\tonDrop(dropResult);\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\r\n\treturn {\r\n\t\thandler\r\n\t};\r\n}","import './polyfills';\r\nimport * as Utils from './utils';\r\nimport * as constants from './constants';\r\nimport { addStyleToHead, addCursorStyleToBody, removeStyle } from './styles';\r\nimport dragScroller from './dragscroller';\r\n\r\nconst grabEvents = ['mousedown', 'touchstart'];\r\nconst moveEvents = ['mousemove', 'touchmove'];\r\nconst releaseEvents = ['mouseup', 'touchend'];\r\n\r\nlet dragListeningContainers = null;\r\nlet grabbedElement = null;\r\nlet ghostInfo = null;\r\nlet draggableInfo = null;\r\nlet containers = [];\r\nlet isDragging = false;\r\nlet removedElement = null;\r\n\r\nlet handleDrag = null;\r\nlet handleScroll = null;\r\nlet sourceContainer = null;\r\nlet sourceContainerLockAxis = null;\r\nlet cursorStyleElement = null;\r\n\r\n// Utils.addClass(document.body, 'clearfix');\r\n\r\nconst isMobile = Utils.isMobile();\r\n\r\nfunction listenEvents() {\r\n  if (typeof window !== 'undefined') {\r\n    addGrabListeners();\r\n  }\r\n}\r\n\r\nfunction addGrabListeners() {\r\n  grabEvents.forEach(e => {\r\n    global.document.addEventListener(e, onMouseDown, { passive: false });\r\n  });\r\n}\r\n\r\nfunction addMoveListeners() {\r\n  moveEvents.forEach(e => {\r\n    global.document.addEventListener(e, onMouseMove, { passive: false, cancelable:true });\r\n  });\r\n}\r\n\r\nfunction removeMoveListeners() {\r\n  moveEvents.forEach(e => {\r\n    global.document.removeEventListener(e, onMouseMove, { passive: false });\r\n  });\r\n}\r\n\r\nfunction addReleaseListeners() {\r\n  releaseEvents.forEach(e => {\r\n    global.document.addEventListener(e, onMouseUp, { passive: false });\r\n  });\r\n}\r\n\r\nfunction removeReleaseListeners() {\r\n  releaseEvents.forEach(e => {\r\n    global.document.removeEventListener(e, onMouseUp, { passive: false });\r\n  });\r\n}\r\n\r\nfunction getGhostParent() {\r\n  if (grabbedElement) {\r\n    return grabbedElement.parentElement || global.document.body;\r\n  } else {\r\n    return global.document.body;\r\n  }\r\n}\r\n\r\nfunction getGhostElement(wrapperElement, { x, y }, container, cursor) {\r\n  const { scaleX = 1, scaleY = 1 } = container.getScale();\r\n  const { left, top, right, bottom } = wrapperElement.getBoundingClientRect();\r\n  const midX = left + (right - left) / 2;\r\n  const midY = top + (bottom - top) / 2;\r\n  const ghost = wrapperElement.cloneNode(true);\r\n  ghost.style.zIndex = 1000;\r\n  ghost.style.boxSizing = 'border-box';\r\n  ghost.style.position = 'fixed';\r\n  ghost.style.left = left + 'px';\r\n  ghost.style.top = top + 'px';\r\n  ghost.style.width = right - left + 'px';\r\n  ghost.style.height = bottom - top + 'px';\r\n  ghost.style.overflow = 'visible';\r\n  ghost.style.transition = null;\r\n  ghost.style.removeProperty('transition');\r\n  ghost.style.pointerEvents = 'none';\r\n\r\n  if (container.getOptions().dragClass) {\r\n    setTimeout(() => {\r\n      Utils.addClass(ghost.firstElementChild, container.getOptions().dragClass);\r\n      const dragCursor = global.getComputedStyle(ghost.firstElementChild).cursor;\r\n      cursorStyleElement = addCursorStyleToBody(dragCursor);\r\n    });\r\n  } else {\r\n    cursorStyleElement = addCursorStyleToBody(cursor);\r\n  }\r\n  Utils.addClass(ghost, container.getOptions().orientation);\r\n  Utils.addClass(ghost, constants.ghostClass);\r\n\r\n  return {\r\n    ghost: ghost,\r\n    centerDelta: { x: midX - x, y: midY - y },\r\n    positionDelta: { left: left - x, top: top - y }\r\n  };\r\n}\r\n\r\nfunction getDraggableInfo(draggableElement) {\r\n  const container = containers.filter(p => draggableElement.parentElement === p.element)[0];\r\n  const draggableIndex = container.draggables.indexOf(draggableElement);\r\n  return {\r\n    container,\r\n    element: draggableElement,\r\n    elementIndex: draggableIndex,\r\n    payload: container.getOptions().getChildPayload\r\n      ? container.getOptions().getChildPayload(draggableIndex)\r\n      : undefined,\r\n    targetElement: null,\r\n    position: { x: 0, y: 0 },\r\n    groupName: container.getOptions().groupName\r\n  };\r\n}\r\n\r\nfunction handleDropAnimation(callback) {\r\n  function endDrop() {\r\n    Utils.removeClass(ghostInfo.ghost, 'animated');\r\n    ghostInfo.ghost.style.transitionDuration = null;\r\n    getGhostParent().removeChild(ghostInfo.ghost);\r\n    callback();\r\n  }\r\n\r\n  function animateGhostToPosition({ top, left }, duration, dropClass) {\r\n    Utils.addClass(ghostInfo.ghost, 'animated');\r\n    if (dropClass) {\r\n      Utils.addClass(ghostInfo.ghost.firstElementChild, dropClass);\r\n    }\r\n    ghostInfo.ghost.style.transitionDuration = duration + 'ms';\r\n    ghostInfo.ghost.style.left = left + 'px';\r\n    ghostInfo.ghost.style.top = top + 'px';\r\n    setTimeout(function() {\r\n      endDrop();\r\n    }, duration + 20);\r\n  }\r\n\r\n  function shouldAnimateDrop(options) {\r\n    return options.shouldAnimateDrop\r\n      ? options.shouldAnimateDrop(draggableInfo.container.getOptions(), draggableInfo.payload)\r\n      : true;\r\n  }\r\n\r\n  if (draggableInfo.targetElement) {\r\n    const container = containers.filter(p => p.element === draggableInfo.targetElement)[0];\r\n    if (shouldAnimateDrop(container.getOptions())) {\r\n      const dragResult = container.getDragResult();\r\n      animateGhostToPosition(\r\n        dragResult.shadowBeginEnd.rect,\r\n        Math.max(150, container.getOptions().animationDuration / 2),\r\n        container.getOptions().dropClass\r\n      );\r\n    } else {\r\n      endDrop();\r\n    }\r\n  } else {\r\n    const container = containers.filter(p => p === draggableInfo.container)[0];\r\n    if (container.getOptions().behaviour === 'move' && container.getDragResult()) {\r\n      const { removedIndex, elementSize } = container.getDragResult();\r\n      const layout = container.layout;\r\n      // drag ghost to back\r\n      container.getTranslateCalculator({\r\n        dragResult: {\r\n          removedIndex,\r\n          addedIndex: removedIndex,\r\n          elementSize\r\n        }\r\n      });\r\n      const prevDraggableEnd =\r\n        removedIndex > 0\r\n          ? layout.getBeginEnd(container.draggables[removedIndex - 1]).end\r\n          : layout.getBeginEndOfContainer().begin;\r\n      animateGhostToPosition(\r\n        layout.getTopLeftOfElementBegin(prevDraggableEnd),\r\n        container.getOptions().animationDuration,\r\n        container.getOptions().dropClass\r\n      );\r\n    } else {\r\n      Utils.addClass(ghostInfo.ghost, 'animated');\r\n      ghostInfo.ghost.style.transitionDuration = container.getOptions().animationDuration + 'ms';\r\n      ghostInfo.ghost.style.opacity = '0';\r\n      ghostInfo.ghost.style.transform = 'scale(0.90)';\r\n      setTimeout(function() {\r\n        endDrop();\r\n      }, container.getOptions().animationDuration);\r\n    }\r\n  }\r\n}\r\n\r\nconst handleDragStartConditions = (function handleDragStartConditions() {\r\n  let startEvent;\r\n  let delay;\r\n  let clb;\r\n  let timer = null;\r\n  const moveThreshold = 1;\r\n  const maxMoveInDelay = 5;\r\n\r\n  function onMove(event) {\r\n    const { clientX: currentX, clientY: currentY } = getPointerEvent(event);\r\n    if (!delay) {\r\n      if (\r\n        Math.abs(startEvent.clientX - currentX) > moveThreshold ||\r\n        Math.abs(startEvent.clientY - currentY) > moveThreshold\r\n      ) {\r\n        return callCallback();\r\n      }\r\n    } else {\r\n      if (\r\n        Math.abs(startEvent.clientX - currentX) > maxMoveInDelay ||\r\n        Math.abs(startEvent.clientY - currentY) > maxMoveInDelay\r\n      ) {\r\n        deregisterEvent();\r\n      }\r\n    }\r\n  }\r\n\r\n  function onUp() {\r\n    deregisterEvent();\r\n  }\r\n  function onHTMLDrag() {\r\n    deregisterEvent();\r\n  }\r\n\r\n  function registerEvents() {\r\n    if (delay) {\r\n      timer = setTimeout(callCallback, delay);\r\n    }\r\n\r\n    moveEvents.forEach(e => global.document.addEventListener(e, onMove), {\r\n      passive: false\r\n    });\r\n    releaseEvents.forEach(e => global.document.addEventListener(e, onUp), {\r\n      passive: false\r\n    });\r\n    global.document.addEventListener('drag', onHTMLDrag, {\r\n      passive: false\r\n    });\r\n  }\r\n\r\n  function deregisterEvent() {\r\n    clearTimeout(timer);\r\n    moveEvents.forEach(e => global.document.removeEventListener(e, onMove), {\r\n      passive: false\r\n    });\r\n    releaseEvents.forEach(e => global.document.removeEventListener(e, onUp), {\r\n      passive: false\r\n    });\r\n    global.document.removeEventListener('drag', onHTMLDrag, {\r\n      passive: false\r\n    });\r\n  }\r\n\r\n  function callCallback() {\r\n    clearTimeout(timer);\r\n    deregisterEvent();\r\n    clb();\r\n  }\r\n\r\n  return function(_startEvent, _delay, _clb) {\r\n    startEvent = getPointerEvent(_startEvent);\r\n    delay = (typeof _delay === 'number') ? _delay : (isMobile ? 200 : 0);\r\n    clb = _clb;\r\n\r\n    registerEvents();\r\n  };\r\n})();\r\n\r\nfunction onMouseDown(event) {\r\n  const e = getPointerEvent(event);\r\n  if (!isDragging && (e.button === undefined || e.button === 0)) {\r\n    grabbedElement = Utils.getParent(e.target, '.' + constants.wrapperClass);\r\n    if (grabbedElement) {\r\n      const containerElement = Utils.getParent(grabbedElement, '.' + constants.containerClass);\r\n      const container = containers.filter(p => p.element === containerElement)[0];\r\n      const dragHandleSelector = container.getOptions().dragHandleSelector;\r\n      const nonDragAreaSelector = container.getOptions().nonDragAreaSelector;\r\n\r\n      let startDrag = true;\r\n      if (dragHandleSelector && !Utils.getParent(e.target, dragHandleSelector)) {\r\n        startDrag = false;\r\n      }\r\n\r\n      if (nonDragAreaSelector && Utils.getParent(e.target, nonDragAreaSelector)) {\r\n        startDrag = false;\r\n      }\r\n\r\n      if (startDrag) {\r\n        handleDragStartConditions(e, container.getOptions().dragBeginDelay, () => {\r\n          Utils.clearSelection();\r\n          initiateDrag(e, Utils.getElementCursor(event.target));\r\n          addMoveListeners();\r\n          addReleaseListeners();\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction onMouseUp() {\r\n  removeMoveListeners();\r\n  removeReleaseListeners();\r\n  handleScroll({ reset: true });\r\n  if (cursorStyleElement) {\r\n    removeStyle(cursorStyleElement);\r\n    cursorStyleElement = null;\r\n  }\r\n  if (draggableInfo) {\r\n    handleDropAnimation(() => {\r\n      Utils.removeClass(global.document.body, constants.disbaleTouchActions);\r\n      Utils.removeClass(global.document.body, constants.noUserSelectClass);\r\n      fireOnDragStartEnd(false);\r\n      (dragListeningContainers || []).forEach(p => {\r\n        p.handleDrop(draggableInfo);\r\n      });\r\n\r\n      dragListeningContainers = null;\r\n      grabbedElement = null;\r\n      ghostInfo = null;\r\n      draggableInfo = null;\r\n      isDragging = false;\r\n      sourceContainer = null;\r\n      sourceContainerLockAxis = null;\r\n      handleDrag = null;\r\n    });\r\n  }\r\n}\r\n\r\nfunction getPointerEvent(e) {\r\n  return e.touches ? e.touches[0] : e;\r\n}\r\n\r\nfunction dragHandler(dragListeningContainers) {\r\n  let targetContainers = dragListeningContainers;\r\n  return function(draggableInfo) {\r\n    let containerBoxChanged = false;\r\n    targetContainers.forEach(p => {\r\n      const dragResult = p.handleDrag(draggableInfo);\r\n      containerBoxChanged |= dragResult.containerBoxChanged || false;\r\n      dragResult.containerBoxChanged = false;\r\n    });\r\n    handleScroll({ draggableInfo });\r\n\r\n    if (containerBoxChanged) {\r\n      containerBoxChanged = false;\r\n      setTimeout(() => {\r\n        containers.forEach(p => {\r\n          p.layout.invalidateRects();\r\n          p.onTranslated();\r\n        });\r\n      }, 10);\r\n    }\r\n  };\r\n}\r\n\r\nfunction getScrollHandler(container, dragListeningContainers) {\r\n  if (container.getOptions().autoScrollEnabled) {\r\n    return dragScroller(dragListeningContainers);\r\n  } else {\r\n    return () => null;\r\n  }\r\n}\r\n\r\nfunction fireOnDragStartEnd(isStart) {\r\n  containers.forEach(p => {\r\n    const fn = isStart ? p.getOptions().onDragStart : p.getOptions().onDragEnd;\r\n    if (fn) {\r\n      const options = {\r\n        isSource: p === draggableInfo.container,\r\n        payload: draggableInfo.payload\r\n      };\r\n      if (p.isDragRelevant(draggableInfo.container, draggableInfo.payload)) {\r\n        options.willAcceptDrop = true;\r\n      } else {\r\n        options.willAcceptDrop = false;\r\n      }\r\n      fn(options);\r\n    }\r\n  });\r\n}\r\n\r\nfunction initiateDrag(position, cursor) {\r\n  isDragging = true;\r\n  const container = containers.filter(p => grabbedElement.parentElement === p.element)[0];\r\n  container.setDraggables();\r\n  sourceContainer = container;\r\n  sourceContainerLockAxis = container.getOptions().lockAxis ? container.getOptions().lockAxis.toLowerCase() : null;\r\n\r\n  draggableInfo = getDraggableInfo(grabbedElement);\r\n  ghostInfo = getGhostElement(\r\n    grabbedElement,\r\n    { x: position.clientX, y: position.clientY },\r\n    draggableInfo.container,\r\n    cursor\r\n  );\r\n  draggableInfo.position = {\r\n    x: position.clientX + ghostInfo.centerDelta.x,\r\n    y: position.clientY + ghostInfo.centerDelta.y\r\n  };\r\n  draggableInfo.mousePosition = {\r\n    x: position.clientX,\r\n    y: position.clientY\r\n  };\r\n\r\n  Utils.addClass(global.document.body, constants.disbaleTouchActions);\r\n  Utils.addClass(global.document.body, constants.noUserSelectClass);\r\n\r\n  dragListeningContainers = containers.filter(p => p.isDragRelevant(container, draggableInfo.payload));\r\n  handleDrag = dragHandler(dragListeningContainers);\r\n  if (handleScroll) {\r\n    handleScroll({ reset: true });\r\n  }\r\n  handleScroll = getScrollHandler(container, dragListeningContainers);\r\n  dragListeningContainers.forEach(p => p.prepareDrag(p, dragListeningContainers));\r\n  fireOnDragStartEnd(true);\r\n  handleDrag(draggableInfo);\r\n  getGhostParent().appendChild(ghostInfo.ghost);\r\n}\r\n\r\nfunction onMouseMove(event) {\r\n  event.preventDefault();\r\n  const e = getPointerEvent(event);\r\n  if (!draggableInfo) {\r\n    initiateDrag(e, Utils.getElementCursor(event.target));\r\n  } else {\r\n    // just update ghost position && draggableInfo position\r\n    if (sourceContainerLockAxis) {\r\n      if (sourceContainerLockAxis === 'y') {\r\n        ghostInfo.ghost.style.top = `${e.clientY + ghostInfo.positionDelta.top}px`;\r\n        draggableInfo.position.y = e.clientY + ghostInfo.centerDelta.y;\r\n        draggableInfo.mousePosition.y = e.clientY;\r\n      } else if (sourceContainerLockAxis === 'x') {\r\n        ghostInfo.ghost.style.left = `${e.clientX + ghostInfo.positionDelta.left}px`;\r\n        draggableInfo.position.x = e.clientX + ghostInfo.centerDelta.x;\r\n        draggableInfo.mousePosition.x = e.clientX;\r\n      }\r\n    } else {\r\n      ghostInfo.ghost.style.left = `${e.clientX + ghostInfo.positionDelta.left}px`;\r\n      ghostInfo.ghost.style.top = `${e.clientY + ghostInfo.positionDelta.top}px`;\r\n      draggableInfo.position.x = e.clientX + ghostInfo.centerDelta.x;\r\n      draggableInfo.position.y = e.clientY + ghostInfo.centerDelta.y;\r\n      draggableInfo.mousePosition.x = e.clientX;\r\n      draggableInfo.mousePosition.y = e.clientY;\r\n    }\r\n\r\n    handleDrag(draggableInfo);\r\n    return true;\r\n  }\r\n}\r\n\r\nfunction Mediator() {\r\n  listenEvents();\r\n  return {\r\n    register: function(container) {\r\n      containers.push(container);\r\n    },\r\n    unregister: function(container) {\r\n      containers.splice(containers.indexOf(container), 1);\r\n    }\r\n  };\r\n}\r\n\r\naddStyleToHead();\r\n\r\nexport default Mediator();\r\n","import Mediator from './mediator';\r\nimport layoutManager from './layoutManager';\r\nimport { hasClass, addClass, removeClass, getParent } from './utils';\r\nimport { domDropHandler } from './dropHandlers';\r\nimport {\r\n  defaultGroupName,\r\n  wrapperClass,\r\n  animationClass,\r\n  stretcherElementClass,\r\n  stretcherElementInstance,\r\n  translationValue,\r\n  containerClass,\r\n  containerInstance,\r\n  containersInDraggable\r\n} from './constants';\r\n\r\nconst defaultOptions = {\r\n  groupName: null,\r\n  behaviour: 'move', // move | copy\r\n  orientation: 'vertical', // vertical | horizontal\r\n  getChildPayload: null,\r\n  animationDuration: 250,\r\n  autoScrollEnabled: true,\r\n  shouldAcceptDrop: null,\r\n  shouldAnimateDrop: null\r\n};\r\n\r\nfunction setAnimation(element, add, animationDuration) {\r\n  if (add) {\r\n    addClass(element, animationClass);\r\n    element.style.transitionDuration = animationDuration + 'ms';\r\n  } else {\r\n    removeClass(element, animationClass);\r\n    element.style.removeProperty('transition-duration');\r\n  }\r\n}\r\n\r\nfunction getContainer(element) {\r\n  return element ? element[containerInstance] : null;\r\n}\r\n\r\nfunction initOptions(props = defaultOptions) {\r\n  return Object.assign({}, defaultOptions, props);\r\n}\r\n\r\nfunction isDragRelevant({ element, options }) {\r\n  return function(sourceContainer, payload) {\r\n    if (options.shouldAcceptDrop) {\r\n      return options.shouldAcceptDrop(sourceContainer.getOptions(), payload);\r\n    }\r\n    const sourceOptions = sourceContainer.getOptions();\r\n    if (options.behaviour === 'copy') return false;\r\n\r\n    const parentWrapper = getParent(element, '.' + wrapperClass);\r\n    if (parentWrapper === sourceContainer.element) {\r\n      return false;\r\n    }\r\n\r\n    if (sourceContainer.element === element) return true;\r\n    if (sourceOptions.groupName && sourceOptions.groupName === options.groupName) return true;\r\n\r\n    return false;\r\n  };\r\n}\r\n\r\nfunction wrapChild(child) {\r\n  if (SmoothDnD.wrapChild) {\r\n    return SmoothDnD.wrapChild(child);\r\n  }\r\n  const div = global.document.createElement('div');\r\n  div.className = `${wrapperClass}`;\r\n  child.parentElement.insertBefore(div, child);\r\n  div.appendChild(child);\r\n  return div;\r\n}\r\n\r\nfunction wrapChildren(element) {\r\n  const draggables = [];\r\n  Array.prototype.map.call(element.children, child => {\r\n    if (child.nodeType === Node.ELEMENT_NODE) {\r\n      let wrapper = child;\r\n      if (!hasClass(child, wrapperClass)) {\r\n        wrapper = wrapChild(child);\r\n      }\r\n      wrapper[containersInDraggable] = [];\r\n      wrapper[translationValue] = 0;\r\n      draggables.push(wrapper);\r\n    } else {\r\n      element.removeChild(child);\r\n    }\r\n  });\r\n  return draggables;\r\n}\r\n\r\nfunction unwrapChildren(element) {\r\n  Array.prototype.map.call(element.children, child => {\r\n    if (child.nodeType === Node.ELEMENT_NODE) {\r\n      let wrapper = child;\r\n      if (hasClass(child, wrapperClass)) {\r\n        element.insertBefore(wrapper, wrapChild.firstElementChild);\r\n        element.removeChild(wrapper);\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction findDraggebleAtPos({ layout }) {\r\n  const find = (draggables, pos, startIndex, endIndex, withRespectToMiddlePoints = false) => {\r\n    if (endIndex < startIndex) {\r\n      return startIndex;\r\n    }\r\n    // binary serach draggable\r\n    if (startIndex === endIndex) {\r\n      let { begin, end } = layout.getBeginEnd(draggables[startIndex]);\r\n      // mouse pos is inside draggable\r\n      // now decide which index to return\r\n      if (pos > begin && pos <= end) {\r\n        if (withRespectToMiddlePoints) {\r\n          return pos < (end + begin) / 2 ? startIndex : startIndex + 1;\r\n        } else {\r\n          return startIndex;\r\n        }\r\n      } else {\r\n        return null;\r\n      }\r\n    } else {\r\n      const middleIndex = Math.floor((endIndex + startIndex) / 2);\r\n      const { begin, end } = layout.getBeginEnd(draggables[middleIndex]);\r\n      if (pos < begin) {\r\n        return find(draggables, pos, startIndex, middleIndex - 1, withRespectToMiddlePoints);\r\n      } else if (pos > end) {\r\n        return find(draggables, pos, middleIndex + 1, endIndex, withRespectToMiddlePoints);\r\n      } else {\r\n        if (withRespectToMiddlePoints) {\r\n          return pos < (end + begin) / 2 ? middleIndex : middleIndex + 1;\r\n        } else {\r\n          return middleIndex;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (draggables, pos, withRespectToMiddlePoints = false) => {\r\n    return find(draggables, pos, 0, draggables.length - 1, withRespectToMiddlePoints);\r\n  };\r\n}\r\n\r\nfunction resetDraggables({ element, draggables, layout, options }) {\r\n  return function() {\r\n    draggables.forEach(p => {\r\n      setAnimation(p, false);\r\n      layout.setTranslation(p, 0);\r\n      layout.setVisibility(p, true);\r\n      p[containersInDraggable] = [];\r\n    });\r\n\r\n    if (element[stretcherElementInstance]) {\r\n      element[stretcherElementInstance].parentNode.removeChild(element[stretcherElementInstance]);\r\n      element[stretcherElementInstance] = null;\r\n    }\r\n  };\r\n}\r\n\r\nfunction setTargetContainer(draggableInfo, element, set = true) {\r\n  if (element && set) {\r\n    draggableInfo.targetElement = element;\r\n  } else {\r\n    if (draggableInfo.targetElement === element) {\r\n      draggableInfo.targetElement = null;\r\n    }\r\n  }\r\n}\r\n\r\nfunction handleDrop({ element, draggables, layout, options }) {\r\n  const draggablesReset = resetDraggables({ element, draggables, layout, options });\r\n  const dropHandler = (SmoothDnD.dropHandler || domDropHandler)({ element, draggables, layout, options });\r\n  return function(draggableInfo, { addedIndex, removedIndex }) {\r\n    draggablesReset();\r\n    // if drop zone is valid => complete drag else do nothing everything will be reverted by draggablesReset()\r\n    if (draggableInfo.targetElement) {\r\n      let actualAddIndex =\r\n        addedIndex !== null ? (removedIndex !== null && removedIndex < addedIndex ? addedIndex - 1 : addedIndex) : null;\r\n      const dropHandlerParams = {\r\n        removedIndex,\r\n        addedIndex: actualAddIndex,\r\n        payload: draggableInfo.payload,\r\n        droppedElement: draggableInfo.element.firstElementChild\r\n      };\r\n      dropHandler(dropHandlerParams, options.onDrop);\r\n    }\r\n  };\r\n}\r\n\r\nfunction getContainerProps(element, initialOptions) {\r\n  const options = initOptions(initialOptions);\r\n  const draggables = wrapChildren(element, options.orientation, options.animationDuration);\r\n  // set flex classes before layout is inited for scroll listener\r\n  addClass(element, `${containerClass} ${options.orientation}`);\r\n  const layout = layoutManager(element, options.orientation, options.animationDuration);\r\n  return {\r\n    element,\r\n    draggables,\r\n    options,\r\n    layout\r\n  };\r\n}\r\n\r\nfunction getRelaventParentContainer(container, relevantContainers) {\r\n  let current = container.element;\r\n  while (current) {\r\n    const containerOfParentElement = getContainer(current.parentElement);\r\n    if (containerOfParentElement && relevantContainers.indexOf(containerOfParentElement) > -1) {\r\n      return {\r\n        container: containerOfParentElement,\r\n        draggable: current\r\n      };\r\n    }\r\n    current = current.parentElement;\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nfunction registerToParentContainer(container, relevantContainers) {\r\n  const parentInfo = getRelaventParentContainer(container, relevantContainers);\r\n  if (parentInfo) {\r\n    parentInfo.container.getChildContainers().push(container);\r\n    container.setParentContainer(parentInfo.container);\r\n    //current should be draggable\r\n    parentInfo.draggable[containersInDraggable].push(container);\r\n  }\r\n}\r\n\r\nfunction getRemovedItem({ draggables, element, options }) {\r\n  let prevRemovedIndex = null;\r\n  return ({ draggableInfo, dragResult }) => {\r\n    let removedIndex = prevRemovedIndex;\r\n    if (prevRemovedIndex == null && draggableInfo.container.element === element && options.behaviour !== 'copy') {\r\n      removedIndex = prevRemovedIndex = draggableInfo.elementIndex;\r\n    }\r\n\r\n    return { removedIndex };\r\n  };\r\n}\r\n\r\nfunction setRemovedItemVisibilty({ draggables, layout }) {\r\n  return ({ draggableInfo, dragResult }) => {\r\n    if (dragResult.removedIndex !== null) {\r\n      layout.setVisibility(draggables[dragResult.removedIndex], false);\r\n    }\r\n  };\r\n}\r\n\r\nfunction getPosition({ element, layout }) {\r\n  return ({ draggableInfo }) => {\r\n    return {\r\n      pos: !getContainer(element).isPosInChildContainer() ? layout.getPosition(draggableInfo.position) : null\r\n    };\r\n  };\r\n}\r\n\r\nfunction notifyParentOnPositionCapture({ element }) {\r\n  let isCaptured = false;\r\n  return ({ draggableInfo, dragResult }) => {\r\n    if (getContainer(element).getParentContainer() && isCaptured !== (dragResult.pos !== null)) {\r\n      isCaptured = dragResult.pos !== null;\r\n      getContainer(element)\r\n        .getParentContainer()\r\n        .onChildPositionCaptured(isCaptured);\r\n    }\r\n  };\r\n}\r\n\r\nfunction getElementSize({ layout }) {\r\n  let elementSize = null;\r\n  return ({ draggableInfo, dragResult }) => {\r\n    if (dragResult.pos === null) {\r\n      return (elementSize = null);\r\n    } else {\r\n      elementSize = elementSize || layout.getSize(draggableInfo.element);\r\n    }\r\n    return { elementSize };\r\n  };\r\n}\r\n\r\nfunction handleTargetContainer({ element }) {\r\n  return ({ draggableInfo, dragResult }) => {\r\n    setTargetContainer(draggableInfo, element, !!dragResult.pos);\r\n  };\r\n}\r\n\r\nfunction getDragInsertionIndex({ draggables, layout }) {\r\n  const findDraggable = findDraggebleAtPos({ layout });\r\n  return ({ dragResult: { shadowBeginEnd, pos } }) => {\r\n    if (!shadowBeginEnd) {\r\n      const index = findDraggable(draggables, pos, true);\r\n      return index !== null ? index : draggables.length;\r\n    } else {\r\n      if (shadowBeginEnd.begin + shadowBeginEnd.beginAdjustment <= pos && shadowBeginEnd.end >= pos) {\r\n        // position inside ghost\r\n        return null;\r\n      }\r\n    }\r\n\r\n    if (pos < shadowBeginEnd.begin + shadowBeginEnd.beginAdjustment) {\r\n      return findDraggable(draggables, pos);\r\n    } else if (pos > shadowBeginEnd.end) {\r\n      return findDraggable(draggables, pos) + 1;\r\n    } else {\r\n      return draggables.length;\r\n    }\r\n  };\r\n}\r\n\r\nfunction getDragInsertionIndexForDropZone({ draggables, layout }) {\r\n  return ({ dragResult: { pos } }) => {\r\n    return pos !== null ? { addedIndex: 0 } : { addedIndex: null };\r\n  };\r\n}\r\n\r\nfunction getShadowBeginEndForDropZone({ draggables, layout }) {\r\n  let prevAddedIndex = null;\r\n  return ({ dragResult: { addedIndex } }) => {\r\n    if (addedIndex !== prevAddedIndex) {\r\n      prevAddedIndex = addedIndex;\r\n      const { begin, end } = layout.getBeginEndOfContainer();\r\n      return {\r\n        shadowBeginEnd: {\r\n          rect: layout.getTopLeftOfElementBegin(begin, end)\r\n        }\r\n      };\r\n    }\r\n  };\r\n}\r\n\r\nfunction invalidateShadowBeginEndIfNeeded(params) {\r\n  const shadowBoundsGetter = getShadowBeginEnd(params);\r\n  return ({ draggableInfo, dragResult }) => {\r\n    if (draggableInfo.invalidateShadow) {\r\n      return shadowBoundsGetter({ draggableInfo, dragResult });\r\n    }\r\n    return null;\r\n  };\r\n}\r\n\r\nfunction getNextAddedIndex(params) {\r\n  const getIndexForPos = getDragInsertionIndex(params);\r\n  return ({ dragResult }) => {\r\n    let index = null;\r\n    if (dragResult.pos !== null) {\r\n      index = getIndexForPos({ dragResult });\r\n      if (index === null) {\r\n        index = dragResult.addedIndex;\r\n      }\r\n    }\r\n    return {\r\n      addedIndex: index\r\n    };\r\n  };\r\n}\r\n\r\nfunction resetShadowAdjustment() {\r\n  let lastAddedIndex = null;\r\n  return ({ dragResult: { addedIndex, shadowBeginEnd } }) => {\r\n    if (addedIndex !== lastAddedIndex && lastAddedIndex !== null && shadowBeginEnd) {\r\n      shadowBeginEnd.beginAdjustment = 0;\r\n    }\r\n    lastAddedIndex = addedIndex;\r\n  };\r\n}\r\n\r\nfunction handleInsertionSizeChange({ element, draggables, layout, options }) {\r\n  let strectherElement = null;\r\n  return function({ dragResult: { addedIndex, removedIndex, elementSize } }) {\r\n    if (removedIndex === null) {\r\n      if (addedIndex !== null) {\r\n\t\t\t\tif (!strectherElement) {\r\n\t\t\t\t\tconst containerBeginEnd = layout.getBeginEndOfContainer();\r\n\t\t\t\t\tcontainerBeginEnd.end = containerBeginEnd.begin + layout.getSize(element);\r\n          const hasScrollBar = layout.getScrollSize(element) > layout.getSize(element);\r\n          const containerEnd = hasScrollBar\r\n            ? containerBeginEnd.begin + layout.getScrollSize(element) - layout.getScrollValue(element)\r\n            : containerBeginEnd.end;\r\n          const lastDraggableEnd =\r\n            draggables.length > 0\r\n              ? layout.getBeginEnd(draggables[draggables.length - 1]).end -\r\n                draggables[draggables.length - 1][translationValue]\r\n              : containerBeginEnd.begin;\r\n          if (lastDraggableEnd + elementSize > containerEnd) {\r\n            strectherElement = global.document.createElement('div');\r\n            strectherElement.className = stretcherElementClass + ' ' + options.orientation;\r\n            const stretcherSize = elementSize + lastDraggableEnd - containerEnd;\r\n            layout.setSize(strectherElement.style, `${stretcherSize}px`);\r\n            element.appendChild(strectherElement);\r\n            element[stretcherElementInstance] = strectherElement;\r\n            return {\r\n              containerBoxChanged: true\r\n            };\r\n          }\r\n        }\r\n      } else {\r\n        if (strectherElement) {\r\n          layout.setTranslation(strectherElement, 0);\r\n          let toRemove = strectherElement;\r\n          strectherElement = null;\r\n          element.removeChild(toRemove);\r\n          element[stretcherElementInstance] = null;\r\n          return {\r\n            containerBoxChanged: true\r\n          };\r\n        }\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nfunction calculateTranslations({ element, draggables, layout }) {\r\n  let prevAddedIndex = null;\r\n  let prevRemovedIndex = null;\r\n  return function({ dragResult: { addedIndex, removedIndex, elementSize } }) {\r\n    if (addedIndex !== prevAddedIndex || removedIndex !== prevRemovedIndex) {\r\n      for (let index = 0; index < draggables.length; index++) {\r\n        if (index !== removedIndex) {\r\n          const draggable = draggables[index];\r\n          let translate = 0;\r\n          if (removedIndex !== null && removedIndex < index) {\r\n            translate -= layout.getSize(draggables[removedIndex]);\r\n          }\r\n          if (addedIndex !== null && addedIndex <= index) {\r\n            translate += elementSize;\r\n          }\r\n          layout.setTranslation(draggable, translate);\r\n        }\r\n      }\r\n\r\n      prevAddedIndex = addedIndex;\r\n      prevRemovedIndex = removedIndex;\r\n\r\n      return { addedIndex, removedIndex };\r\n    }\r\n  };\r\n}\r\n\r\nfunction getShadowBeginEnd({ draggables, layout }) {\r\n  let prevAddedIndex = null;\r\n  return ({ draggableInfo, dragResult }) => {\r\n    const { addedIndex, removedIndex, elementSize, pos, shadowBeginEnd } = dragResult;\r\n    if (pos !== null) {\r\n      if (addedIndex !== null && (draggableInfo.invalidateShadow || addedIndex !== prevAddedIndex)) {\r\n        if (prevAddedIndex) prevAddedIndex = addedIndex;\r\n        let beforeIndex = addedIndex - 1;\r\n        let begin = 0;\r\n        let afterBounds = null;\r\n        let beforeBounds = null;\r\n        if (beforeIndex === removedIndex) {\r\n          beforeIndex--;\r\n        }\r\n        if (beforeIndex > -1) {\r\n          const beforeSize = layout.getSize(draggables[beforeIndex]);\r\n          beforeBounds = layout.getBeginEnd(draggables[beforeIndex]);\r\n          if (elementSize < beforeSize) {\r\n            const threshold = (beforeSize - elementSize) / 2;\r\n            begin = beforeBounds.end - threshold;\r\n          } else {\r\n            begin = beforeBounds.end;\r\n          }\r\n        } else {\r\n          beforeBounds = { end: layout.getBeginEndOfContainer().begin };\r\n        }\r\n\r\n        let end = 10000;\r\n        let afterIndex = addedIndex;\r\n        if (afterIndex === removedIndex) {\r\n          afterIndex++;\r\n        }\r\n        if (afterIndex < draggables.length) {\r\n          const afterSize = layout.getSize(draggables[afterIndex]);\r\n          afterBounds = layout.getBeginEnd(draggables[afterIndex]);\r\n\r\n          if (elementSize < afterSize) {\r\n            const threshold = (afterSize - elementSize) / 2;\r\n            end = afterBounds.begin + threshold;\r\n          } else {\r\n            end = afterBounds.begin;\r\n          }\r\n        } else {\r\n          afterBounds = { begin: layout.getContainerRectangles().end };\r\n        }\r\n\r\n        const shadowRectTopLeft =\r\n          beforeBounds && afterBounds ? layout.getTopLeftOfElementBegin(beforeBounds.end, afterBounds.begin) : null;\r\n\r\n        return {\r\n          shadowBeginEnd: {\r\n            begin,\r\n            end,\r\n            rect: shadowRectTopLeft,\r\n            beginAdjustment: shadowBeginEnd ? shadowBeginEnd.beginAdjustment : 0\r\n          }\r\n        };\r\n      } else {\r\n        return null;\r\n      }\r\n    } else {\r\n      prevAddedIndex = null;\r\n      return {\r\n        shadowBeginEnd: null\r\n      };\r\n    }\r\n  };\r\n}\r\n\r\nfunction handleFirstInsertShadowAdjustment() {\r\n  let lastAddedIndex = null;\r\n  return ({ dragResult: { pos, addedIndex, shadowBeginEnd }, draggableInfo: { invalidateShadow } }) => {\r\n    if (pos !== null) {\r\n      if (addedIndex != null && lastAddedIndex === null) {\r\n        if (pos < shadowBeginEnd.begin) {\r\n          const beginAdjustment = pos - shadowBeginEnd.begin - 5;\r\n          shadowBeginEnd.beginAdjustment = beginAdjustment;\r\n        }\r\n        lastAddedIndex = addedIndex;\r\n      }\r\n    } else {\r\n      lastAddedIndex = null;\r\n    }\r\n  };\r\n}\r\n\r\nfunction fireDragEnterLeaveEvents({ options }) {\r\n  let wasDragIn = false;\r\n  return ({ dragResult: { pos } }) => {\r\n    const isDragIn = !!pos;\r\n    if (isDragIn !== wasDragIn) {\r\n      wasDragIn = isDragIn;\r\n      if (isDragIn) {\r\n        options.onDragEnter && options.onDragEnter();\r\n      } else {\r\n        options.onDragLeave && options.onDragLeave();\r\n        return {\r\n          dragLeft: true\r\n        };\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nfunction fireOnDropReady({ options }) {\r\n  let lastAddedIndex = null;\r\n  return ({ dragResult: { addedIndex, removedIndex }, draggableInfo: { payload, element } }) => {\r\n    if (options.onDropReady && lastAddedIndex !== addedIndex) {\r\n      lastAddedIndex = addedIndex;\r\n      let adjustedAddedIndex = addedIndex;\r\n\r\n      if (removedIndex !== null && addedIndex > removedIndex) {\r\n        adjustedAddedIndex--;\r\n      }\r\n\r\n      options.onDropReady({ addedIndex: adjustedAddedIndex, removedIndex, payload, element: element.firstElementChild });\r\n    }\r\n  }\r\n}\r\n\r\nfunction getDragHandler(params) {\r\n  if (params.options.behaviour === 'drop-zone') {\r\n    // sorting is disabled in container, addedIndex will always be 0 if dropped in\r\n    return compose(params)(\r\n      getRemovedItem,\r\n      setRemovedItemVisibilty,\r\n      getPosition,\r\n      notifyParentOnPositionCapture,\r\n      getElementSize,\r\n      handleTargetContainer,\r\n      getDragInsertionIndexForDropZone,\r\n      getShadowBeginEndForDropZone,\r\n      fireDragEnterLeaveEvents,\r\n      fireOnDropReady\r\n    );\r\n  } else {\r\n    return compose(params)(\r\n      getRemovedItem,\r\n      setRemovedItemVisibilty,\r\n      getPosition,\r\n      notifyParentOnPositionCapture,\r\n      getElementSize,\r\n      handleTargetContainer,\r\n      invalidateShadowBeginEndIfNeeded,\r\n      getNextAddedIndex,\r\n      resetShadowAdjustment,\r\n      handleInsertionSizeChange,\r\n      calculateTranslations,\r\n      getShadowBeginEnd,\r\n      handleFirstInsertShadowAdjustment,\r\n      fireDragEnterLeaveEvents,\r\n      fireOnDropReady\r\n    );\r\n  }\r\n}\r\n\r\nfunction getDefaultDragResult() {\r\n  return {\r\n    addedIndex: null,\r\n    removedIndex: null,\r\n    elementSize: null,\r\n    pos: null,\r\n    shadowBeginEnd: null\r\n  };\r\n}\r\n\r\nfunction compose(params) {\r\n  return (...functions) => {\r\n    const hydratedFunctions = functions.map(p => p(params));\r\n    let result = null;\r\n    return draggableInfo => {\r\n      result = hydratedFunctions.reduce((dragResult, fn) => {\r\n        return Object.assign(dragResult, fn({ draggableInfo, dragResult }));\r\n      }, result || getDefaultDragResult());\r\n      return result;\r\n    };\r\n  };\r\n}\r\n\r\n// Container definition begin\r\nfunction Container(element) {\r\n  return function(options) {\r\n    let dragResult = null;\r\n    let lastDraggableInfo = null;\r\n    const props = getContainerProps(element, options);\r\n    let dragHandler = getDragHandler(props);\r\n    let dropHandler = handleDrop(props);\r\n    let parentContainer = null;\r\n    let posIsInChildContainer = false;\r\n    let childContainers = [];\r\n\r\n    function processLastDraggableInfo() {\r\n      if (lastDraggableInfo !== null) {\r\n        lastDraggableInfo.invalidateShadow = true;\r\n        dragResult = dragHandler(lastDraggableInfo);\r\n        lastDraggableInfo.invalidateShadow = false;\r\n      }\r\n    }\r\n\r\n    function onChildPositionCaptured(isCaptured) {\r\n      posIsInChildContainer = isCaptured;\r\n      if (parentContainer) {\r\n        parentContainer.onChildPositionCaptured(isCaptured);\r\n        if (lastDraggableInfo) {\r\n          dragResult = dragHandler(lastDraggableInfo);\r\n        }\r\n      }\r\n    }\r\n\r\n    function setDraggables(draggables, element, options) {\r\n      const newDraggables = wrapChildren(element, options.orientation, options.animationDuration);\r\n      for (let i = 0; i < newDraggables.length; i++) {\r\n        draggables[i] = newDraggables[i];\r\n      }\r\n\r\n      for (let i = 0; i < draggables.length - newDraggables.length; i++) {\r\n        draggables.pop();\r\n      }\r\n    }\r\n\r\n    function prepareDrag(container, relevantContainers) {\r\n      const element = container.element;\r\n      const draggables = props.draggables;\r\n      const options = container.getOptions();\r\n      setDraggables(draggables, element, options);\r\n      container.layout.invalidateRects();\r\n      registerToParentContainer(container, relevantContainers);\r\n      draggables.forEach(p => setAnimation(p, true, options.animationDuration));\r\n    }\r\n\r\n    props.layout.setScrollListener(function() {\r\n      processLastDraggableInfo();\r\n    });\r\n\r\n    function handleDragLeftDeferedTranslation() {\r\n      if (dragResult.dragLeft && props.options.behaviour !== 'drop-zone') {\r\n        dragResult.dragLeft = false;\r\n        setTimeout(() => {\r\n          if (dragResult) calculateTranslations(props)({ dragResult });\r\n        }, 20);\r\n      }\r\n    }\r\n\r\n    function dispose(container) {\r\n      unwrapChildren(container.element);\r\n    }\r\n\r\n    return {\r\n      element,\r\n      draggables: props.draggables,\r\n      isDragRelevant: isDragRelevant(props),\r\n      getScale: props.layout.getContainerScale,\r\n      layout: props.layout,\r\n      getChildContainers: () => childContainers,\r\n      onChildPositionCaptured,\r\n      dispose,\r\n      prepareDrag,\r\n      isPosInChildContainer: () => posIsInChildContainer,\r\n      handleDrag: function(draggableInfo) {\r\n        lastDraggableInfo = draggableInfo;\r\n        dragResult = dragHandler(draggableInfo);\r\n        handleDragLeftDeferedTranslation();\r\n        return dragResult;\r\n      },\r\n      handleDrop: function(draggableInfo) {\r\n        lastDraggableInfo = null;\r\n        onChildPositionCaptured(false);\r\n        dragHandler = getDragHandler(props);\r\n        dropHandler(draggableInfo, dragResult);\r\n        dragResult = null;\r\n        parentContainer = null;\r\n        childContainers = [];\r\n      },\r\n      getDragResult: function() {\r\n        return dragResult;\r\n      },\r\n      getTranslateCalculator: function(...params) {\r\n        return calculateTranslations(props)(...params);\r\n      },\r\n      setParentContainer: e => {\r\n        parentContainer = e;\r\n      },\r\n      getParentContainer: () => parentContainer,\r\n      onTranslated: () => {\r\n        processLastDraggableInfo();\r\n      },\r\n      getOptions: () => props.options,\r\n      setDraggables: () => {\r\n        setDraggables(props.draggables, element, props.options);\r\n      }\r\n    };\r\n  };\r\n}\r\n\r\nconst options = {\r\n  behaviour: 'move',\r\n  groupName: 'bla bla', // if not defined => container will not interfere with other containers\r\n  orientation: 'vertical',\r\n  dragHandleSelector: null,\r\n  nonDragAreaSelector: 'some selector',\r\n  dragBeginDelay: 0,\r\n  animationDuration: 180,\r\n  autoScrollEnabled: true,\r\n  lockAxis: true,\r\n  dragClass: null,\r\n  dropClass: null,\r\n  onDragStart: (index, payload) => {},\r\n  onDrop: ({ removedIndex, addedIndex, payload, element }) => {},\r\n  getChildPayload: index => null,\r\n  shouldAnimateDrop: (sourceContainerOptions, payload) => true,\r\n  shouldAcceptDrop: (sourceContainerOptions, payload) => true,\r\n  onDragEnter: () => {},\r\n  onDragLeave: () => { },\r\n  onDropReady: ({ removedIndex, addedIndex, payload, element }) => { },\r\n};\r\n\r\n// exported part of container\r\nfunction SmoothDnD(element, options) {\r\n  const containerIniter = Container(element);\r\n  const container = containerIniter(options);\r\n  element[containerInstance] = container;\r\n  Mediator.register(container);\r\n  return {\r\n    dispose: function() {\r\n      Mediator.unregister(container);\r\n      container.layout.dispose();\r\n      container.dispose(container);\r\n    }\r\n  };\r\n}\r\n\r\nexport default SmoothDnD;\r\n","import { isScrolling, getScrollingAxis, getVisibleRect, debounce } from './utils';\r\n\r\nconst maxSpeed = 1500; // px/s\r\nconst minSpeed = 20; // px/s\r\n\r\nfunction addScrollValue(element, axis, value) {\r\n\tif (element) {\r\n\t\tif (element !== window) {\r\n\t\t\tif (axis === 'x') {\r\n\t\t\t\telement.scrollLeft += value;\r\n\t\t\t} else {\r\n\t\t\t\telement.scrollTop += value;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (axis === 'x') {\r\n\t\t\t\telement.scrollBy(value, 0);\r\n\t\t\t} else {\r\n\t\t\t\telement.scrollBy(0, value);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst createAnimator = (element, axis = 'y') => {\r\n\tlet isAnimating = false;\r\n\tlet request = null;\r\n\tlet startTime = null;\r\n\tlet direction = null;\r\n\tlet speed = null;\r\n\r\n\tfunction animate(_direction, _speed) {\r\n\t\tdirection = _direction;\r\n\t\tspeed = _speed;\r\n\t\tisAnimating = true;\r\n\t\tif (isAnimating) {\r\n\t\t\tstart();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction start() {\r\n\t\tif (request === null) {\r\n\t\t\trequest = requestAnimationFrame((timestamp) => {\r\n\t\t\t\tif (startTime === null) { startTime = timestamp; }\r\n\t\t\t\tconst timeDiff = timestamp - startTime;\r\n\t\t\t\tstartTime = timestamp;\r\n\t\t\t\tlet distanceDiff = (timeDiff / 1000) * speed;\r\n\t\t\t\tdistanceDiff = direction === 'begin' ? (0 - distanceDiff) : distanceDiff;\r\n\t\t\t\taddScrollValue(element, axis, distanceDiff);\r\n\t\t\t\trequest = null;\r\n\t\t\t\tstart();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction stop() {\r\n\t\tif (isAnimating) {\r\n\t\t\tcancelAnimationFrame(request);\r\n\t\t\tisAnimating = false;\r\n\t\t\tstartTime = null;\r\n\t\t\trequest = null;\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\tanimate,\r\n\t\tstop\r\n\t};\r\n}\r\n\r\nfunction getAutoScrollInfo(position, scrollableInfo) {\r\n\tconst { left, right, top, bottom } = scrollableInfo.rect;\r\n\tconst { x, y } = position;\r\n\tif (x < left || x > right || y < top || y > bottom) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tlet begin;\r\n\tlet end;\r\n\tlet pos;\r\n\tif (scrollableInfo.axis === 'x') {\r\n\t\tbegin = left;\r\n\t\tend = right;\r\n\t\tpos = x;\r\n\t} else {\r\n\t\tbegin = top;\r\n\t\tend = bottom;\r\n\t\tpos = y;\r\n\t}\r\n\r\n\tconst moveDistance = 100;\r\n\tif (end - pos < moveDistance) {\r\n\t\treturn {\r\n\t\t\tdirection: 'end',\r\n\t\t\tspeedFactor: (moveDistance - (end - pos)) / moveDistance\r\n\t\t};\r\n\t} else if (pos - begin < moveDistance) {\r\n\t\t// console.log(pos - begin);\r\n\t\treturn {\r\n\t\t\tdirection: 'begin',\r\n\t\t\tspeedFactor: (moveDistance - (pos - begin)) / moveDistance\r\n\t\t};\r\n\t} else {\r\n\t\t// console.log(pos - begin);\r\n\t\treturn {\r\n\t\t\tdirection: 'begin',\r\n\t\t\tspeedFactor: 0\r\n\t\t};\r\n\t}\r\n}\r\n\r\nfunction scrollableInfo(element) {\r\n\tvar result = {\r\n\t\telement,\r\n\t\trect: getVisibleRect(element, element.getBoundingClientRect()),\r\n\t\tdescendants: [],\r\n\t\tinvalidate,\r\n\t\taxis: null,\r\n\t\tdispose\r\n\t};\r\n\r\n\tfunction dispose() {\r\n\t\telement.removeEventListener('scroll', invalidate);\r\n\t}\r\n\r\n\tfunction invalidate() {\r\n\t\tresult.rect = getVisibleRect(element, element.getBoundingClientRect());\r\n\t\tresult.descendants.forEach(p => p.invalidate());\r\n\t}\r\n\r\n\telement.addEventListener('scroll', invalidate);\r\n\r\n\treturn result;\r\n}\r\n\r\nfunction getScrollableElements(containerElements) {\r\n\tconst scrollables = [];\r\n\tlet firstDescendentScrollable = null;\r\n\tcontainerElements.forEach(el => {\r\n\t\tlet current = el;\r\n\t\tfirstDescendentScrollable = null;\r\n\t\twhile (current) {\r\n\t\t\tconst scrollingAxis = getScrollingAxis(current);\r\n\t\t\tif (scrollingAxis) {\r\n\t\t\t\tif (!scrollables.some(p => p.element === current)) {\r\n\t\t\t\t\tconst info = scrollableInfo(current);\r\n\t\t\t\t\tif (firstDescendentScrollable) {\r\n\t\t\t\t\t\tinfo.descendants.push(firstDescendentScrollable);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfirstDescendentScrollable = info;\r\n\t\t\t\t\tif (scrollingAxis === 'xy') {\r\n\t\t\t\t\t\tscrollables.push(Object.assign({}, info, { axis: 'x' }));\r\n\t\t\t\t\t\tscrollables.push(Object.assign({}, info, { axis: 'y' }, { descendants: [] }));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tscrollables.push(Object.assign({}, info, { axis: scrollingAxis }));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcurrent = current.parentElement;\r\n\t\t}\r\n\t});\r\n\treturn scrollables;\r\n}\r\n\r\nfunction getScrollableAnimator(scrollableInfo) {\r\n\treturn Object.assign(scrollableInfo, createAnimator(scrollableInfo.element, scrollableInfo.axis));\r\n}\r\n\r\nfunction getWindowAnimators() {\r\n\tfunction getWindowRect() {\r\n\t\treturn {\r\n\t\t\tleft: 0, right: global.innerWidth, top: 0, bottom: global.innerHeight\r\n\t\t}\r\n\t}\r\n\r\n\treturn [\r\n\t\tObject.assign({ rect: getWindowRect(), axis: 'y' }, createAnimator(global)),\r\n\t\tObject.assign({ rect: getWindowRect(), axis: 'x' }, createAnimator(global, 'x'))\r\n\t]\r\n}\r\n\r\nexport default (containers) => {\r\n\tconst scrollablesInfo = getScrollableElements(containers.map(p => p.element));\r\n\tconst animators = [...scrollablesInfo.map(getScrollableAnimator), ...getWindowAnimators()];\r\n\treturn ({ draggableInfo, reset }) => {\r\n\t\tif (animators.length) {\r\n\t\t\tif (reset) {\r\n\t\t\t\tanimators.forEach(p => p.stop());\r\n\t\t\t\tscrollablesInfo.forEach(p => p.dispose());\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\tanimators.forEach(animator => {\r\n\t\t\t\tconst scrollParams = getAutoScrollInfo(draggableInfo.mousePosition, animator);\r\n\t\t\t\tif (scrollParams) {\r\n\t\t\t\t\tanimator.animate(scrollParams.direction, scrollParams.speedFactor * maxSpeed);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tanimator.stop();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n}","import * as Utils from './utils';\r\nimport { translationValue, visibilityValue, extraSizeForInsertion, containersInDraggable } from './constants';\r\n\r\n\r\n\r\nconst horizontalMap = {\r\n\tsize: 'offsetWidth',\r\n\tdistanceToParent: 'offsetLeft',\r\n\ttranslate: 'transform',\r\n\tbegin: 'left',\r\n\tend: 'right',\r\n\tdragPosition: 'x',\r\n\tscrollSize: 'scrollWidth',\r\n\toffsetSize: 'offsetWidth',\r\n\tscrollValue: 'scrollLeft',\r\n\tscale: 'scaleX',\r\n\tsetSize: 'width',\r\n\tsetters: {\r\n\t\t'translate': (val) => `translate3d(${val}px, 0, 0)`\r\n\t}\r\n};\r\n\r\nconst verticalMap = {\r\n\tsize: 'offsetHeight',\r\n\tdistanceToParent: 'offsetTop',\r\n\ttranslate: 'transform',\r\n\tbegin: 'top',\r\n\tend: 'bottom',\r\n\tdragPosition: 'y',\r\n\tscrollSize: 'scrollHeight',\r\n\toffsetSize: 'offsetHeight',\r\n\tscrollValue: 'scrollTop',\r\n\tscale: 'scaleY',\r\n\tsetSize: 'height',\r\n\tsetters: {\r\n\t\t'translate': (val) => `translate3d(0,${val}px, 0)`\r\n\t}\r\n};\r\n\r\nfunction orientationDependentProps(map) {\r\n\tfunction get(obj, prop) {\r\n\t\tconst mappedProp = map[prop];\r\n\t\treturn obj[mappedProp || prop];\r\n\t}\r\n\r\n\tfunction set(obj, prop, value) {\r\n\t\trequestAnimationFrame(() => {\r\n\t\t\tobj[map[prop]] = map.setters[prop] ? map.setters[prop](value) : value;\r\n\t\t});\r\n\t}\r\n\r\n\treturn { get, set };\r\n}\r\n\r\nexport default function layoutManager(containerElement, orientation, _animationDuration) {\r\n\tcontainerElement[extraSizeForInsertion] = 0;\r\n\tconst animationDuration = _animationDuration;\r\n\tconst map = orientation === 'horizontal' ? horizontalMap : verticalMap;\r\n\tconst propMapper = orientationDependentProps(map);\r\n\tconst values = {\r\n\t\ttranslation: 0\r\n\t};\r\n\tlet registeredScrollListener = null;\r\n\r\n\tglobal.addEventListener('resize', function() {\r\n\t\tinvalidateContainerRectangles(containerElement);\r\n\t\t// invalidateContainerScale(containerElement);\r\n\t});\r\n\r\n\tsetTimeout(() => {\r\n\t\tinvalidate();\r\n\t}, 10);\r\n\t// invalidate();\r\n\r\n\tconst scrollListener = Utils.listenScrollParent(containerElement, function() {\r\n\t\tinvalidateContainerRectangles(containerElement);\r\n\t\tregisteredScrollListener && registeredScrollListener();\r\n\t});\r\n\tfunction invalidate() {\r\n\t\tinvalidateContainerRectangles(containerElement);\r\n\t\tinvalidateContainerScale(containerElement);\r\n\t}\r\n\r\n\tlet visibleRect;\r\n\tfunction invalidateContainerRectangles(containerElement) {\r\n\t\tvalues.rect = Utils.getContainerRect(containerElement);\r\n\t\tvalues.visibleRect = Utils.getVisibleRect(containerElement, values.rect);\r\n\t}\r\n\r\n\tfunction invalidateContainerScale(containerElement) {\r\n\t\tconst rect = containerElement.getBoundingClientRect();\r\n\t\tvalues.scaleX = containerElement.offsetWidth ? ((rect.right - rect.left) / containerElement.offsetWidth) : 1;\r\n\t\tvalues.scaleY = containerElement.offsetHeight ? ((rect.bottom - rect.top) / containerElement.offsetHeight) : 1;\r\n\t}\r\n\r\n\tfunction getContainerRectangles() {\r\n\t\treturn {\r\n\t\t\trect: values.rect,\r\n\t\t\tvisibleRect: values.visibleRect\r\n\t\t};\r\n\t}\r\n\r\n\tfunction getBeginEndOfDOMRect(rect) {\r\n\t\treturn {\r\n\t\t\tbegin: propMapper.get(rect, 'begin'),\r\n\t\t\tend: propMapper.get(rect, 'end')\r\n\t\t};\r\n\t}\r\n\r\n\tfunction getBeginEndOfContainer() {\r\n\t\tconst begin = propMapper.get(values.rect, 'begin') + values.translation;\r\n\t\tconst end = propMapper.get(values.rect, 'end') + values.translation;\r\n\t\treturn { begin, end };\r\n\t}\r\n\r\n\tfunction getBeginEndOfContainerVisibleRect() {\r\n\t\tconst begin = propMapper.get(values.visibleRect, 'begin') + values.translation;\r\n\t\tconst end = propMapper.get(values.visibleRect, 'end') + values.translation;\r\n\t\treturn { begin, end };\r\n\t}\r\n\r\n\tfunction getContainerScale() {\r\n\t\treturn { scaleX: values.scaleX, scaleY: values.scaleY };\r\n\t}\r\n\r\n\tfunction getSize(element) {\r\n\t\treturn propMapper.get(element, 'size') * propMapper.get(values, 'scale');\r\n\t}\r\n\r\n\tfunction getDistanceToOffsetParent(element) {\r\n\t\tconst distance = propMapper.get(element, 'distanceToParent') + (element[translationValue] || 0);\r\n\t\treturn distance * propMapper.get(values, 'scale');\r\n\t}\r\n\r\n\tfunction getBeginEnd(element) {\r\n\t\tconst begin = getDistanceToOffsetParent(element) + (propMapper.get(values.rect, 'begin') + values.translation) - propMapper.get(containerElement, 'scrollValue');\r\n\t\treturn {\r\n\t\t\tbegin,\r\n\t\t\tend: begin + getSize(element) * propMapper.get(values, 'scale')\r\n\t\t};\r\n\t}\r\n\r\n\tfunction setSize(element, size) {\r\n\t\tpropMapper.set(element, 'setSize', size);\r\n\t}\r\n\r\n\tfunction getAxisValue(position) {\r\n\t\treturn propMapper.get(position, 'dragPosition');\r\n\t}\r\n\r\n\tfunction updateDescendantContainerRects(container) {\r\n\t\tcontainer.layout.invalidateRects();\r\n\t\tcontainer.onTranslated();\r\n\t\tif (container.getChildContainers()) {\r\n\t\t\tcontainer.getChildContainers().forEach(p => updateDescendantContainerRects(p));\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setTranslation(element, translation) {\r\n\t\tif (!translation) {\r\n\t\t\telement.style.removeProperty('transform');\r\n\t\t} else {\r\n\t\t\tpropMapper.set(element.style, 'translate', translation);\r\n\t\t}\r\n\t\telement[translationValue] = translation;\r\n\r\n\t\tif (element[containersInDraggable]) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\telement[containersInDraggable].forEach(p => {\r\n\t\t\t\t\tupdateDescendantContainerRects(p);\r\n\t\t\t\t});\r\n\t\t\t}, animationDuration + 20);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getTranslation(element) {\r\n\t\treturn element[translationValue];\r\n\t}\r\n\r\n\tfunction setVisibility(element, isVisible) {\r\n\t\tif (element[visibilityValue] === undefined || element[visibilityValue] !== isVisible) {\r\n\t\t\tif (isVisible) {\r\n\t\t\t\telement.style.removeProperty('visibility');\r\n\t\t\t} else {\r\n\t\t\t\telement.style.visibility = 'hidden';\r\n\t\t\t}\r\n\t\t\telement[visibilityValue] = isVisible;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction isVisible(element) {\r\n\t\treturn element[visibilityValue] === undefined || element[visibilityValue];\r\n\t}\r\n\r\n\tfunction isInVisibleRect(x, y) {\r\n\t\tlet { left, top, right, bottom } = values.visibleRect;\r\n\r\n\t\t// if there is no wrapper in rect size will be 0 and wont accept any drop\r\n\t\t// so make sure at least there is 30px difference\r\n\t\tif (bottom - top < 2) {\r\n\t\t\tbottom = top + 30;\r\n\t\t}\r\n\t\tconst containerRect = values.rect;\r\n\t\tif (orientation === 'vertical') {\r\n\t\t\treturn x > containerRect.left && x < containerRect.right && y > top && y < bottom;\r\n\t\t} else {\r\n\t\t\treturn x > left && x < right && y > containerRect.top && y < containerRect.bottom;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setScrollListener(callback) {\r\n\t\tregisteredScrollListener = callback;\r\n\t}\r\n\r\n\tfunction getTopLeftOfElementBegin(begin) {\r\n\t\tlet top = 0;\r\n\t\tlet left = 0;\r\n\t\tif (orientation === 'horizontal') {\r\n\t\t\tleft = begin;\r\n\t\t\ttop = values.rect.top;\r\n\t\t} else {\r\n\t\t\tleft = values.rect.left;\r\n\t\t\ttop = begin;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\ttop, left\r\n\t\t};\r\n\t}\r\n\r\n\tfunction getScrollSize(element) {\r\n\t\treturn propMapper.get(element, 'scrollSize');\r\n\t}\r\n\r\n\tfunction getScrollValue(element) {\r\n\t\treturn propMapper.get(element, 'scrollValue');\r\n\t}\r\n\r\n\tfunction setScrollValue(element, val) {\r\n\t\treturn propMapper.set(element, 'scrollValue', val);\r\n\t}\r\n\r\n\tfunction dispose() {\r\n\t\tif (scrollListener) {\r\n\t\t\tscrollListener.dispose();\r\n\t\t}\r\n\r\n\t\tif (visibleRect) {\r\n\t\t\tvisibleRect.parentNode.removeChild(visibleRect);\r\n\t\t\tvisibleRect = null;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getPosition(position) {\r\n\t\treturn isInVisibleRect(position.x, position.y) ? getAxisValue(position) : null;\r\n\t}\r\n\r\n\tfunction invalidateRects() {\r\n\t\tinvalidateContainerRectangles(containerElement);\r\n\t}\r\n\r\n\treturn {\r\n\t\tgetSize,\r\n\t\t//getDistanceToContainerBegining,\r\n\t\tgetContainerRectangles,\r\n\t\tgetBeginEndOfDOMRect,\r\n\t\tgetBeginEndOfContainer,\r\n\t\tgetBeginEndOfContainerVisibleRect,\r\n\t\tgetBeginEnd,\r\n\t\tgetAxisValue,\r\n\t\tsetTranslation,\r\n\t\tgetTranslation,\r\n\t\tsetVisibility,\r\n\t\tisVisible,\r\n\t\tisInVisibleRect,\r\n\t\tdispose,\r\n\t\tgetContainerScale,\r\n\t\tsetScrollListener,\r\n\t\tsetSize,\r\n\t\tgetTopLeftOfElementBegin,\r\n\t\tgetScrollSize,\r\n\t\tgetScrollValue,\r\n\t\tsetScrollValue,\r\n\t\tinvalidate,\r\n\t\tinvalidateRects,\r\n\t\tgetPosition,\r\n\t};\r\n}","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","(function(constructor) {\r\n  if (constructor && constructor.prototype && !constructor.prototype.matches) {\r\n    constructor.prototype.matches =\r\n      constructor.prototype.matchesSelector ||\r\n      constructor.prototype.mozMatchesSelector ||\r\n      constructor.prototype.msMatchesSelector ||\r\n      constructor.prototype.oMatchesSelector ||\r\n      constructor.prototype.webkitMatchesSelector ||\r\n      function(s) {\r\n        var matches = (this.document || this.ownerDocument).querySelectorAll(s),\r\n          i = matches.length;\r\n        while (--i >= 0 && matches.item(i) !== this) {}\r\n        return i > -1;\r\n      };\r\n  }\r\n})(global.Node || global.Element);\r\n\r\n// Overwrites native 'firstElementChild' prototype.\r\n// Adds Document & DocumentFragment support for IE9 & Safari.\r\n// Returns array instead of HTMLCollection.\r\n(function(constructor) {\r\n  if (\r\n    constructor &&\r\n    constructor.prototype &&\r\n    constructor.prototype.firstElementChild == null\r\n  ) {\r\n    Object.defineProperty(constructor.prototype, \"firstElementChild\", {\r\n      get: function() {\r\n        var node,\r\n          nodes = this.childNodes,\r\n          i = 0;\r\n        while ((node = nodes[i++])) {\r\n          if (node.nodeType === 1) {\r\n            return node;\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n    });\r\n  }\r\n})(global.Node || global.Element);\r\n\r\n// Production steps of ECMA-262, Edition 5, 15.4.4.17\r\n// Reference: http://es5.github.io/#x15.4.4.17\r\nif (!Array.prototype.some) {\r\n  Array.prototype.some = function(fun /*, thisArg*/) {\r\n    \"use strict\";\r\n\r\n    if (this == null) {\r\n      throw new TypeError(\"Array.prototype.some called on null or undefined\");\r\n    }\r\n\r\n    if (typeof fun !== \"function\") {\r\n      throw new TypeError();\r\n    }\r\n\r\n    var t = Object(this);\r\n    var len = t.length >>> 0;\r\n\r\n    var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\r\n    for (var i = 0; i < len; i++) {\r\n      if (i in t && fun.call(thisArg, t[i], i, t)) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  };\r\n}\r\n","import container from './src/container';\r\nimport * as constants from './src/constants';\r\nimport * as dropHandlers from './src/dropHandlers';\r\nexport default container;\r\nexport {\r\n\tconstants,\r\n\tdropHandlers,\r\n};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { constants } from './smooth-dnd';\r\nconst {\r\n\twrapperClass\r\n} = constants;\r\n\r\nclass Draggable extends Component {\r\n\trender() {\r\n\t\tif (this.props.render) {\r\n\t\t\treturn React.cloneElement(this.props.render(), { className: wrapperClass });\r\n\t\t}\r\n\t\t\r\n\t\tconst clsName = `${this.props.className ? (this.props.className + ' ') : ''}`\r\n\t\treturn (\r\n\t\t\t<div {...this.props} className={`${clsName}${wrapperClass}`} >\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nDraggable.propTypes = {\r\n\trender: PropTypes.func\r\n};\r\n\r\nexport default Draggable;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport PropTypes from 'prop-types';\r\nimport container from './smooth-dnd';\r\nimport { dropHandlers } from './smooth-dnd';\r\nimport Draggable from './Draggable';\r\n\r\ncontainer.dropHandler = dropHandlers.reactDropHandler().handler;\r\ncontainer.wrapChild = p => p; // dont wrap children they will already be wrapped\r\n\r\nclass Container extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.getContainerOptions = this.getContainerOptions.bind(this);\r\n\t\tthis.setRef = this.setRef.bind(this);\r\n\t\tthis.prevContainer = null;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.containerDiv = this.containerDiv || ReactDOM.findDOMNode(this);\r\n\t\tthis.prevContainer = this.containerDiv;\r\n\t\tthis.container = container(this.containerDiv, this.getContainerOptions());\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.container.dispose();\r\n\t\tthis.container = null;\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tthis.containerDiv = this.containerDiv || ReactDOM.findDOMNode(this);\r\n\t\tif (this.containerDiv) {\r\n\t\t\tif (this.prevContainer && this.prevContainer !== this.containerDiv) {\r\n\t\t\t\tthis.container.dispose();\r\n\t\t\t\tthis.container = container(this.containerDiv, this.getContainerOptions());\r\n\t\t\t\tthis.prevContainer = this.containerDiv;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.render) {\r\n\t\t\treturn this.props.render(this.setRef);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div style={this.props.style} ref={this.setRef}>\r\n\t\t\t\t\t{this.props.children}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tsetRef(element) {\r\n\t\tthis.containerDiv = element;\r\n\t}\r\n\r\n\tgetContainerOptions() {\r\n\t\tconst functionProps = {};\r\n\r\n\t\tif (this.props.onDragStart) {\r\n\t\t\tfunctionProps.onDragStart = (...p) => this.props.onDragStart(...p);\r\n\t\t}\r\n\r\n\t\tif (this.props.onDragEnd) {\r\n\t\t\tfunctionProps.onDragEnd = (...p) => this.props.onDragEnd(...p);\r\n\t\t}\r\n\r\n\t\tif (this.props.onDrop) {\r\n\t\t\tfunctionProps.onDrop = (...p) => this.props.onDrop(...p);\r\n\t\t}\r\n\r\n\t\tif (this.props.getChildPayload) {\r\n\t\t\tfunctionProps.getChildPayload = (...p) => this.props.getChildPayload(...p);\r\n\t\t}\r\n\r\n\t\tif (this.props.shouldAnimateDrop) {\r\n\t\t\tfunctionProps.shouldAnimateDrop = (...p) => this.props.shouldAnimateDrop(...p);\r\n\t\t}\r\n\r\n\t\tif (this.props.shouldAcceptDrop) {\r\n\t\t\tfunctionProps.shouldAcceptDrop = (...p) => this.props.shouldAcceptDrop(...p);\r\n\t\t}\r\n\r\n\t\tif (this.props.onDragEnter) {\r\n\t\t\tfunctionProps.onDragEnter = (...p) => this.props.onDragEnter(...p);\r\n\t\t}\r\n\r\n\t\tif (this.props.onDragLeave) {\r\n\t\t\tfunctionProps.onDragLeave = (...p) => this.props.onDragLeave(...p);\r\n\t\t}\r\n\r\n\t\tif (this.props.render) {\r\n\t\t\tfunctionProps.render = (...p) => this.props.render(...p);\r\n\t\t}\r\n\r\n\t\tif (this.props.onDropReady) {\r\n\t\t\tfunctionProps.onDropReady = (...p) => this.props.onDropReady(...p);\r\n\t\t}\r\n\r\n\t\treturn Object.assign({}, this.props, functionProps);\r\n\t}\r\n}\r\n\r\nContainer.propTypes = {\r\n\tbehaviour: PropTypes.oneOf([\"move\", \"copy\", \"drag-zone\"]),\r\n\tgroupName: PropTypes.string,\r\n\torientation: PropTypes.oneOf([\"horizontal\", \"vertical\"]),\r\n\tstyle: PropTypes.object,\r\n\tdragHandleSelector: PropTypes.string,\r\n\tnonDragAreaSelector: PropTypes.string,\r\n\tdragBeginDelay: PropTypes.number,\r\n\tanimationDuration: PropTypes.number,\r\n\tautoScrollEnabled: PropTypes.string,\r\n\tlockAxis: PropTypes.string,\r\n\tdragClass: PropTypes.string,\r\n\tdropClass: PropTypes.string,\r\n\tonDragStart: PropTypes.func,\r\n\tonDragEnd: PropTypes.func,\r\n\tonDrop: PropTypes.func,\r\n\tgetChildPayload: PropTypes.func,\r\n\tshouldAnimateDrop: PropTypes.func,\r\n\tshouldAcceptDrop: PropTypes.func,\r\n\tonDragEnter: PropTypes.func,\r\n\tonDragLeave: PropTypes.func,\r\n\trender: PropTypes.func\r\n};\r\n\r\nContainer.defaultProps = {\r\n\tbehaviour: 'move',\r\n\torientation: 'vertical'\r\n};\r\n\r\nexport default Container;","export const applyDrag = (arr, dragResult) => {\r\n    const { removedIndex, addedIndex, payload } = dragResult;\r\n    if (removedIndex === null && addedIndex === null) return arr;\r\n\r\n    const result = [...arr];\r\n    let itemToAdd = payload;\r\n\r\n    if (removedIndex !== null) {\r\n        itemToAdd = result.splice(removedIndex, 1)[0];\r\n    }\r\n\r\n    if (addedIndex !== null) {\r\n        result.splice(addedIndex, 0, itemToAdd);\r\n    }\r\n\r\n    return result;\r\n};\r\n\r\nexport const generateItems = (count, creator) => {\r\n    const result = [];\r\n    for (let i = 0; i < count; i++) {\r\n        result.push(creator(i));\r\n    }\r\n    return result;\r\n};","import React, { Component } from 'react';\r\nimport Container from './react-smooth-dnd/src/Container';\r\nimport Draggable from './react-smooth-dnd/src/Draggable';\r\nimport { applyDrag, generateItems } from './utils';\r\n\r\nconst stopEvent = e => {\r\n  e.cancelable=true;\r\n  e.preventDefault();\r\n  e.stopPropagation();\r\n}\r\n\r\nexport default class SortableList extends Component {\r\n    constructor() {\r\n      super();\r\n      this.state = {\r\n        style: null,\r\n        items: generateItems(50, (index) => {\r\n          return {\r\n            id: index,\r\n            data: 'Draggable' + index\r\n          };\r\n        })\r\n      };\r\n    }\r\n    preventScroll = e => {\r\n      console.log(\"preventScroll\")\r\n      this.setState({style: {overflow: 'hidden'}});\r\n    }\r\n    allowScroll = e => {\r\n      console.log(\"allowScroll\")\r\n      this.setState({style: {overflow: 'auto'}});\r\n    }\r\n    setContainerRef = el => {\r\n      this.containerRef = el;\r\n      el.addEventListener(\"touchmove\", this.preventScroll );\r\n      el.addEventListener(\"scroll\", e => e.preventDefault, { passive: false });\r\n\r\n    }\r\n    touchStart = e => {\r\n      console.log(e);\r\n    }\r\n\r\n    componentDidMount = () => this.containerRef.addEventListener(\"contextmenu\", stopEvent)\r\n    render() {\r\n      return (\r\n        <div>\r\n          <div className=\"simple-page-scroller\" style={this.state.style} ref={this.setContainerRef} onScroll={this.onTouchStart}>\r\n            <Container onDragStart={this.preventScroll} onDragEnd={this.allowScroll} onDrop={e => this.setState({ items: applyDrag(this.state.items, e) })}>\r\n              {this.state.items.map(p => {\r\n                return (\r\n                  <Draggable key={p.id}>\r\n                    <div className=\"draggable-item\">\r\n                      {p.data}\r\n                    </div>\r\n                  </Draggable>\r\n                );\r\n              })}\r\n            </Container>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }","import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport SortableList from './SortableList';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <SortableList/>\n      </div>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}